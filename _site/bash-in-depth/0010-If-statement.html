<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Chapter 10: if / elif / else statements | The Engineering Corner</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Chapter 10: if / elif / else statements" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Chapter 10: if / elif / else statements" />
<meta property="og:description" content="Chapter 10: if / elif / else statements" />
<link rel="canonical" href="http://localhost:4000/bash-in-depth/0010-If-statement.html" />
<meta property="og:url" content="http://localhost:4000/bash-in-depth/0010-If-statement.html" />
<meta property="og:site_name" content="The Engineering Corner" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-09-23T13:11:39+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Chapter 10: if / elif / else statements" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-09-23T13:11:39+02:00","datePublished":"2024-09-23T13:11:39+02:00","description":"Chapter 10: if / elif / else statements","headline":"Chapter 10: if / elif / else statements","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/bash-in-depth/0010-If-statement.html"},"url":"http://localhost:4000/bash-in-depth/0010-If-statement.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="The Engineering Corner" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">The Engineering Corner</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
						<a class="page-link" href="/about/">About</a>
            <a class="page-link" href="/bash-in-depth/">Bash In Depth</a>
				</div>
      </nav></div>
</header>

<!--header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" href="/">The Engineering Corner</a>
    <nav class="site-nav">
      <label for="nav-trigger">
        <svg aria-hidden="true" class="icon-menu">
          <use xlink:href="#icon-menu"></use>
        </svg>
      </label>
      <div class="trigger">
          
          <a href="/bash-in-depth/">Bash In Depth</a>
      </div>
    </nav>
  </div>
</header-->

<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="chapter-content">
  <h1 id="chapter-10-if--elif--else-statements">Chapter 10: if / elif / else statements</h1>

<p>In Bash, the “<code class="language-plaintext highlighter-rouge">if</code>”, “<code class="language-plaintext highlighter-rouge">elif</code>”, and “<code class="language-plaintext highlighter-rouge">else</code>” statements are fundamental constructs used for conditional execution of commands. These statements provide the means to make decisions within a script or in the command-line environment, enabling you to create dynamic and responsive scripts that respond to specific conditions.</p>

<p>In the next sections we will speak about the three statements.</p>

<h2 id="the-if-statement">The “<code class="language-plaintext highlighter-rouge">if</code>” Statement</h2>

<p>The “<code class="language-plaintext highlighter-rouge">if</code>” statement is the cornerstone of conditional execution in Bash. It allows you to specify a condition or test that evaluates to either true (success) or false (failure). If the condition is true, the code within the “<code class="language-plaintext highlighter-rouge">if</code>” block is executed. If it’s false, the code is skipped. The syntax of an “<code class="language-plaintext highlighter-rouge">if</code>” statement typically looks like follows.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">if</span> <span class="o">[</span> CONDITION <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span>COMMANDS<span class="p">;</span>
    <span class="k">fi</span>
</code></pre></div></div>

<p>For example, you can use an “<code class="language-plaintext highlighter-rouge">if</code>” statement to check if a file exists before attempting to read or manipulate it. If the condition inside the square brackets is satisfied (e.g., the file exists), the code within the “<code class="language-plaintext highlighter-rouge">if</code>” block is executed.</p>

<h2 id="the-elif-statement">The “<code class="language-plaintext highlighter-rouge">elif</code>” Statement</h2>

<p>The “<code class="language-plaintext highlighter-rouge">elif</code>” (short for “<em>else if</em>”) statement is used when you have multiple conditions to check in a sequence. It follows an “<code class="language-plaintext highlighter-rouge">if</code>” statement and is evaluated only if the preceding “<code class="language-plaintext highlighter-rouge">if</code>” or “<code class="language-plaintext highlighter-rouge">elif</code>” conditions are false. If an “<code class="language-plaintext highlighter-rouge">elif</code>” condition is true, the corresponding code block is executed. The syntax of an “<code class="language-plaintext highlighter-rouge">elif</code>” statement typically looks like follows.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">if</span> <span class="o">[</span> CONDITION <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span>COMMANDS<span class="p">;</span>
    <span class="k">elif</span> <span class="o">[</span> CONDITION2 <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c"># elif can be repeated</span>
        COMMANDS2<span class="p">;</span>
    <span class="k">fi</span>
</code></pre></div></div>

<p>If the evaluation of “<code class="language-plaintext highlighter-rouge">CONDITION</code>” results in “<code class="language-plaintext highlighter-rouge">true</code>” then “<code class="language-plaintext highlighter-rouge">COMMANDS</code>” will be executed. If not, then the next condition (“<code class="language-plaintext highlighter-rouge">CONDITION2</code>”) will be evaluated and depending on the result of its evaluation “<code class="language-plaintext highlighter-rouge">COMMANDS2</code>” will be executed or not.</p>

<p>For instance, you might use “<code class="language-plaintext highlighter-rouge">elif</code>” to check various file types within a directory. If the first condition doesn’t match (e.g., it’s not a text file), the script checks the next condition (e.g., an image file).</p>

<h2 id="the-else-statement">The “<code class="language-plaintext highlighter-rouge">else</code>” Statement</h2>

<p>The “<code class="language-plaintext highlighter-rouge">else</code>” statement is used in conjunction with the “<code class="language-plaintext highlighter-rouge">if</code>” statement to specify a block of code that should execute when none of the preceding conditions (in the “<code class="language-plaintext highlighter-rouge">if</code>” or “<code class="language-plaintext highlighter-rouge">elif</code>” statements) are met. It provides a default or fallback action when all previous conditions are false. The syntax of an “else” statement typically looks like the following.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">if</span> <span class="o">[</span> CONDITION <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span>COMMANDS<span class="p">;</span>
    <span class="k">else
        </span>COMMANDS2<span class="p">;</span>
    <span class="k">fi</span>
</code></pre></div></div>

<p>In a real-world example, if you’re checking for the existence of a file and none of the preceding conditions match (the file doesn’t exist), you can use “<code class="language-plaintext highlighter-rouge">else</code>” to execute an alternative action, such as creating the file.</p>

<p>In the case of having multiple conditions in an “<code class="language-plaintext highlighter-rouge">if</code>/<code class="language-plaintext highlighter-rouge">elif</code>/<code class="language-plaintext highlighter-rouge">else</code>” statement that evaluates to “<code class="language-plaintext highlighter-rouge">true</code>” Bash will execute that first one it finds. So yes, <strong>the order of the different conditions matters</strong>.</p>

<p>Also bear in mind that you can have multiple “<code class="language-plaintext highlighter-rouge">elif</code>” branches as we already mentioned previously.</p>

<h2 id="how-to-test-stuff">How to test stuff?</h2>

<p>In Bash there are 4 ways to test for conditions. In the following subsections we will take a look at:</p>
<ul>
  <li>“<code class="language-plaintext highlighter-rouge">test</code>” operator</li>
  <li>“<code class="language-plaintext highlighter-rouge">[...]</code>” operator</li>
  <li>“<code class="language-plaintext highlighter-rouge">[[...]]</code>” operator</li>
  <li>“<code class="language-plaintext highlighter-rouge">((...))</code>” operator</li>
</ul>

<p>In the next sub-sections we will explore each one of them. Let’s start!</p>

<h3 id="test-operator">“test” operator</h3>

<p>The “<code class="language-plaintext highlighter-rouge">test</code>” operator is used to evaluate conditional expressions. It’s not a built-in command of Bash. It’s in fact a separate binary<a id="footnote-1-ref" href="#footnote-1" style="font-size:x-small">[1]</a>.</p>

<p>The “<code class="language-plaintext highlighter-rouge">test</code>” operator comes with a set of flags/operators that allow you to test for different conditions. The following table contains some of the different operators you can use with “<code class="language-plaintext highlighter-rouge">test</code>”. For an exhaustive list of options, please consult the manual of the test operator<a id="footnote-2-ref" href="#footnote-2" style="font-size:x-small">[2]</a>.</p>

<p>The following table contains an exhaustive list of operators that you can use with “<code class="language-plaintext highlighter-rouge">test</code>” and their descriptions.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Operator</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-b FILE</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">FILE</code> exists and is a block special</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-c FILE</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">FILE</code> exists and is a character special</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-d FILE</code></td>
      <td style="text-align: left">True if <code class="language-plaintext highlighter-rouge">FILE</code> is a directory</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-e FILE</code></td>
      <td style="text-align: left">True if <code class="language-plaintext highlighter-rouge">FILE</code> exists</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-f FILE</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">FILE</code> exists and is a regular file</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">FILE1 -ef FILE2</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">FILE1</code> and <code class="language-plaintext highlighter-rouge">FILE2</code> have the same device and inode numbers</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">FILE1 -nt FILE2</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">FILE1</code> has a more recent modification date than <code class="language-plaintext highlighter-rouge">FILE2</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">FILE1 -ot FILE2</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">FILE1</code> is older than <code class="language-plaintext highlighter-rouge">FILE2</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-z STRING</code></td>
      <td style="text-align: left">True if string is empty</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-n STRING</code></td>
      <td style="text-align: left">True if string is <strong>NOT</strong> empty</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">STRING1 = STRING2</code></td>
      <td style="text-align: left">True if the strings are equal</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">STRING1 != STRING2</code></td>
      <td style="text-align: left">True if the strings are not equal</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">STRING1 &lt; STRING2</code></td>
      <td style="text-align: left">True if <code class="language-plaintext highlighter-rouge">STRING1</code> sorts before <code class="language-plaintext highlighter-rouge">STRING2</code> lexicographically</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">STRING1 &gt; STRING2</code></td>
      <td style="text-align: left">True if <code class="language-plaintext highlighter-rouge">STRING1</code> sorts after <code class="language-plaintext highlighter-rouge">STRING2</code> lexicographically</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-v VAR</code></td>
      <td style="text-align: left">True if the shell variable <code class="language-plaintext highlighter-rouge">VAR</code> is set</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">( EXPR )</code></td>
      <td style="text-align: left">The parentheses are used to group expressions</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">! EXPR</code></td>
      <td style="text-align: left">True if the result of the evaluation of <code class="language-plaintext highlighter-rouge">EXPR</code> is false</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">EXPR1 -a EXPR2</code></td>
      <td style="text-align: left">True if both <code class="language-plaintext highlighter-rouge">EXPR1</code> and <code class="language-plaintext highlighter-rouge">EXPR2</code> are true</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">EXPR1 -o EXPR2</code></td>
      <td style="text-align: left">True if either <code class="language-plaintext highlighter-rouge">EXPR1</code> or <code class="language-plaintext highlighter-rouge">EXPR2</code> is true</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">ARG1 OP ARG2</code></td>
      <td style="text-align: left">Arithmetic tests.  OP is one of <code class="language-plaintext highlighter-rouge">-eq</code>, <code class="language-plaintext highlighter-rouge">-ne</code>, <code class="language-plaintext highlighter-rouge">-lt</code>, <code class="language-plaintext highlighter-rouge">-le</code>, <code class="language-plaintext highlighter-rouge">-gt</code>, or <code class="language-plaintext highlighter-rouge">-ge</code>. <br />Arithmetic binary operators return true if <code class="language-plaintext highlighter-rouge">ARG1</code> is equal, not-equal, less-than, less-than-or-equal, greater-than, or greater-than-or-equal than <code class="language-plaintext highlighter-rouge">ARG2</code></td>
    </tr>
  </tbody>
</table>

<p>You might be wondering what are the different arguments for the operators we provided in the previous table. They are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">FILE</code>:  The absolute or relative path of a file or a variable that references it. For example: “<code class="language-plaintext highlighter-rouge">/etc/profile</code>”.</li>
  <li><code class="language-plaintext highlighter-rouge">STRING</code>: A sequence of characters or a variable with a sequence of characters. (For example: “<code class="language-plaintext highlighter-rouge">Hello world</code>”, the quotes are included).</li>
  <li><code class="language-plaintext highlighter-rouge">VAR</code>: The name of a variable. (For example: “<code class="language-plaintext highlighter-rouge">PATH</code>”)</li>
  <li><code class="language-plaintext highlighter-rouge">EXPR</code>: An “<em>expression</em>”. This could be a combination of other operators. (For example: <code class="language-plaintext highlighter-rouge">"TEST" = "TEST" -a "TEST1" != "TEST2"</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">INT</code>: An integer number. (For example: 3)</li>
</ul>

<p>In the following examples script we are going to use a few of these operators.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: if_statement.sh</span>
 3 <span class="c"># Declaring some variables</span>
 4 <span class="nv">FILE_PATH</span><span class="o">=</span><span class="s2">"/etc/profile"</span>
 5 <span class="nv">NUMBER_1</span><span class="o">=</span>3
 6 <span class="nv">NUMBER_2</span><span class="o">=</span>4
 7 <span class="nv">EMPTY</span><span class="o">=</span>
 8 <span class="c"># Test if the file exists</span>
 9 <span class="k">if </span><span class="nb">test</span> <span class="nt">-e</span> <span class="nv">$FILE_PATH</span><span class="p">;</span> <span class="k">then
</span>10     <span class="nb">echo</span> <span class="s2">"'</span><span class="nv">$FILE_PATH</span><span class="s2">' does exist"</span>
11 <span class="k">fi
</span>12 <span class="c"># Test if the variable is empty</span>
13 <span class="k">if </span><span class="nb">test</span> <span class="nt">-z</span> <span class="nv">$EMPTY</span><span class="p">;</span> <span class="k">then
</span>14     <span class="nb">echo</span> <span class="s2">"The variable EMPTY has nothing"</span>
15 <span class="k">fi
</span>16 <span class="c"># Test if the variables are different</span>
17 <span class="k">if </span><span class="nb">test</span> <span class="nv">$FILE_PATH</span> <span class="o">!=</span> <span class="s2">"different"</span><span class="p">;</span> <span class="k">then
</span>18     <span class="nb">echo</span> <span class="s2">"The values of the strings are different"</span>
19 <span class="k">fi
</span>20 <span class="c"># Test to compare numbers</span>
21 <span class="k">if </span><span class="nb">test </span>3 <span class="nt">-lt</span> 7<span class="p">;</span> <span class="k">then
</span>22     <span class="nb">echo</span> <span class="s2">"3 is less than 7"</span>
23 <span class="k">fi
</span>24 <span class="c"># Combined test</span>
25 <span class="k">if </span><span class="nb">test</span> <span class="nv">$NUMBER_1</span> <span class="nt">-lt</span> <span class="nv">$NUMBER_2</span> <span class="nt">-a</span> <span class="nv">$FILE_PATH</span> <span class="o">!=</span> <span class="s2">"boo"</span><span class="p">;</span> <span class="k">then
</span>26     <span class="nb">echo</span> <span class="s2">"Condition is true"</span>
27 <span class="k">fi</span>
</code></pre></div></div>

<p>When you execute the previous script you will get something like the following in your terminal.</p>

<pre><code class="language-txt">$ ./if_statement.sh
'/etc/profile' does exist
The variable EMPTY has nothing
The values of the strings are different
3 is less than 7
Condition is true
</code></pre>

<p>The “<code class="language-plaintext highlighter-rouge">test</code>” command has a synonym that is the “<code class="language-plaintext highlighter-rouge">[</code>“ operator, which is the one we will explore next.</p>

<h3 id="-operator">“[…]” operator</h3>

<p>Similar to the “<code class="language-plaintext highlighter-rouge">test</code>” command, the “<code class="language-plaintext highlighter-rouge">[</code>“ command is a separate binary (located as well in the “<code class="language-plaintext highlighter-rouge">/usr/bin</code>” folder).</p>

<p>The “<code class="language-plaintext highlighter-rouge">[</code>“ command is equivalent to the “<code class="language-plaintext highlighter-rouge">test</code>” command. This means that we can use the exact same flags and operators. The only difference with respect to the “<code class="language-plaintext highlighter-rouge">test</code>” command is that the last argument should be “<code class="language-plaintext highlighter-rouge">]</code>” in order to match the opening bracket.</p>

<p>In the next example we rewrote the script we had in the previous subsection but using the “<code class="language-plaintext highlighter-rouge">[</code>“ command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: if_statement_with_square_bracket.sh</span>
 3 <span class="c"># Declaring some variables</span>
 4 <span class="nv">FILE_PATH</span><span class="o">=</span><span class="s2">"/etc/profile"</span>
 5 <span class="nv">NUMBER_1</span><span class="o">=</span>3
 6 <span class="nv">NUMBER_2</span><span class="o">=</span>4
 7 <span class="nv">EMPTY</span><span class="o">=</span>
 8 <span class="c"># Test if the file exists</span>
 9 <span class="k">if</span> <span class="o">[</span> <span class="nt">-e</span> <span class="nv">$FILE_PATH</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
</span>10     <span class="nb">echo</span> <span class="s2">"'</span><span class="nv">$FILE_PATH</span><span class="s2">' does exist"</span>
11 <span class="k">fi
</span>12 <span class="c"># Test if the variable is empty</span>
13 <span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="nv">$EMPTY</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
</span>14     <span class="nb">echo</span> <span class="s2">"The variable EMPTY has nothing"</span>
15 <span class="k">fi
</span>16 <span class="c"># Test if the variables are different</span>
17 <span class="k">if</span> <span class="o">[</span> <span class="nv">$FILE_PATH</span> <span class="o">!=</span> <span class="s2">"different"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
</span>18     <span class="nb">echo</span> <span class="s2">"The values of the strings are different"</span>
19 <span class="k">fi
</span>20 <span class="c"># Test to compare numbers</span>
21 <span class="k">if</span> <span class="o">[</span> 3 <span class="nt">-lt</span> 7 <span class="o">]</span><span class="p">;</span> <span class="k">then
</span>22     <span class="nb">echo</span> <span class="s2">"3 is less than 7"</span>
23 <span class="k">fi
</span>24 <span class="c"># Combined test</span>
25 <span class="k">if</span> <span class="o">[</span> <span class="nv">$NUMBER_1</span> <span class="nt">-lt</span> <span class="nv">$NUMBER_2</span> <span class="nt">-a</span> <span class="nv">$FILE_PATH</span> <span class="o">!=</span> <span class="s2">"boo"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
</span>26     <span class="nb">echo</span> <span class="s2">"Condition is true"</span>
27 <span class="k">fi</span>
</code></pre></div></div>

<p>When you execute the previous script you will see that it generates the same result as “<code class="language-plaintext highlighter-rouge">if_statement.sh</code>”.</p>

<pre><code class="language-txt">$ ./if_statement_with_square_bracket.sh
'/etc/profile' does exist
The variable EMPTY has nothing
The values of the strings are different
3 is less than 7
Condition is true
</code></pre>

<p>“<code class="language-plaintext highlighter-rouge">test</code>” and “<code class="language-plaintext highlighter-rouge">[...]</code>”  commands are preferred to be used to generate a more portable code.</p>

<h3 id="-operator-1">“<code class="language-plaintext highlighter-rouge">[[...]]</code>” operator</h3>

<p>The “<code class="language-plaintext highlighter-rouge">[[...]]</code>” operator is a Bash extension inspired by another shell.<a id="footnote-3-ref" href="#footnote-3" style="font-size:x-small">[3]</a> This operator is a new, improved version of the previous “<code class="language-plaintext highlighter-rouge">test</code>” and “<code class="language-plaintext highlighter-rouge">[...]</code>”. On top of that is a built-in command instead of a separate binary.</p>

<p>The following table will give you a high-level overview of the differences between “<code class="language-plaintext highlighter-rouge">[[...]]</code>” and “<code class="language-plaintext highlighter-rouge">test</code>” (or “<code class="language-plaintext highlighter-rouge">[...]</code>”).</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Feature</th>
      <th style="text-align: center">[[…]]</th>
      <th style="text-align: center">[…]</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center" rowspan="4">String comparison</td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&gt;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">\&gt;</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&lt;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">\&lt;</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">=</code> (or <code class="language-plaintext highlighter-rouge">==</code>)</td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">=</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">!=</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">!=</code></td>
    </tr>
    <tr>
      <td style="text-align: center" rowspan="6">Integer comparison</td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-gt</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-gt</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-lt</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-lt</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-ge</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-ge</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-le</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-le</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-eq</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-eq</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-ne</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-ne</code></td>
    </tr>
    <tr>
      <td style="text-align: center" rowspan="2">Conditional evaluation</td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">&amp;&amp;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-a</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">||</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">-o</code></td>
    </tr>
    <tr>
      <td style="text-align: center">Expression grouping</td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">(...)</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">\(...\)</code></td>
    </tr>
    <tr>
      <td style="text-align: center">Pattern Matching</td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">=</code> (or <code class="language-plaintext highlighter-rouge">==</code>)</td>
      <td style="text-align: center"><em>(not available)</em></td>
    </tr>
    <tr>
      <td style="text-align: center">Regular Expression Matching</td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">=~</code></td>
      <td style="text-align: center"><em>(not available)</em></td>
    </tr>
  </tbody>
</table>

<p>Let’s see how the script we used in the last two sections would look like using the “<code class="language-plaintext highlighter-rouge">[[...]]</code>” operator.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: if_statement_with_double_square_bracket.sh</span>
 3 <span class="c"># Declaring some variables</span>
 4 <span class="nv">FILE_PATH</span><span class="o">=</span><span class="s2">"/etc/profile"</span>
 5 <span class="nv">NUMBER_1</span><span class="o">=</span>3
 6 <span class="nv">NUMBER_2</span><span class="o">=</span>4
 7 <span class="nv">EMPTY</span><span class="o">=</span>
 8 <span class="c"># Test if the file exists</span>
 9 <span class="k">if</span> <span class="o">[[</span> <span class="nt">-e</span> <span class="nv">$FILE_PATH</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
</span>10     <span class="nb">echo</span> <span class="s2">"'</span><span class="nv">$FILE_PATH</span><span class="s2">' does exist"</span>
11 <span class="k">fi
</span>12 <span class="c"># Test if the variable is empty</span>
13 <span class="k">if</span> <span class="o">[[</span> <span class="nt">-z</span> <span class="nv">$EMPTY</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
</span>14     <span class="nb">echo</span> <span class="s2">"The variable EMPTY has nothing"</span>
15 <span class="k">fi
</span>16 <span class="c"># Test if the variables are different</span>
17 <span class="k">if</span> <span class="o">[[</span> <span class="nv">$FILE_PATH</span> <span class="o">!=</span> <span class="s2">"different"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
</span>18     <span class="nb">echo</span> <span class="s2">"The values of the strings are different"</span>
19 <span class="k">fi
</span>20 <span class="c"># Test to compare numbers</span>
21 <span class="k">if</span> <span class="o">[[</span> 3 <span class="nt">-lt</span> 7 <span class="o">]]</span><span class="p">;</span> <span class="k">then
</span>22     <span class="nb">echo</span> <span class="s2">"3 is less than 7"</span>
23 <span class="k">fi
</span>24 <span class="c"># Combined test</span>
25 <span class="k">if</span> <span class="o">[[</span> <span class="nv">$NUMBER_1</span> <span class="nt">-lt</span> <span class="nv">$NUMBER_2</span> <span class="o">&amp;&amp;</span> <span class="nv">$FILE_PATH</span> <span class="o">!=</span> <span class="s2">"boo"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
</span>26     <span class="nb">echo</span> <span class="s2">"Condition is true"</span>
27 <span class="k">fi</span>
</code></pre></div></div>

<p>Notice that the main changes we did in the script were replacing “<code class="language-plaintext highlighter-rouge">[...]</code>” with “<code class="language-plaintext highlighter-rouge">[[...]]</code>” and replacing the “<code class="language-plaintext highlighter-rouge">-a</code>” operator with “<code class="language-plaintext highlighter-rouge">&amp;&amp;</code>”. When you execute the previous script you get the same result as in the two previous sections.</p>

<pre><code class="language-txt">$ ./if_statement_with_double_square_bracket.sh
'/etc/profile' does exist
The variable EMPTY has nothing
The values of the strings are different
3 is less than 7
Condition is true
</code></pre>

<h3 id="compound-command-">Compound command “<code class="language-plaintext highlighter-rouge">((...))</code>”</h3>

<p>In a previous chapter we talked about the compound command “<code class="language-plaintext highlighter-rouge">((...))</code>”. In that chapter we used the command to declare integer variables and to modify the values of <strong>integer variables</strong>.</p>

<p>We also mentioned in that chapter that the “<code class="language-plaintext highlighter-rouge">((...))</code>” <em>is an actual command after all, meaning that it has a result, an exit status, that we can use</em>.</p>

<p>The “<code class="language-plaintext highlighter-rouge">((...))</code>” command creates an environment where you can do assignments, arithmetic operations or even several operations in the same environment (between the double parenthesis). The result of the command will be determined by the last expression that will be evaluated inside the environment.</p>

<p>This means that we can use the result of the “<code class="language-plaintext highlighter-rouge">((...))</code>” command in conditions of the “<code class="language-plaintext highlighter-rouge">if</code>/<code class="language-plaintext highlighter-rouge">elif</code>” statements (and as we will see later, in loops as well).</p>

<p>In the following script we see a few examples with the “<code class="language-plaintext highlighter-rouge">((...))</code>” command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: if_statement_double_parentheses.sh</span>
 3 <span class="c"># Declaring some variables</span>
 4 <span class="nv">FILE_PATH</span><span class="o">=</span><span class="s2">"/etc/profile"</span>
 5 <span class="nv">NUMBER_1</span><span class="o">=</span>3
 6 <span class="nv">NUMBER_2</span><span class="o">=</span>4
 7 <span class="c"># Combined test</span>
 8 <span class="k">if</span> <span class="o">((</span> <span class="nv">$NUMBER_1</span> &lt; <span class="nv">$NUMBER_2</span> <span class="o">))</span> <span class="o">&amp;&amp;</span> <span class="o">[[</span> <span class="nv">$FILE_PATH</span> <span class="o">!=</span> <span class="s2">"boo"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
 </span>9     <span class="nb">echo</span> <span class="s2">"Condition is true"</span>
10 <span class="k">fi
</span>11 <span class="c"># Test less than</span>
12 <span class="k">if</span> <span class="o">((</span> 3 &lt; 7 <span class="o">))</span><span class="p">;</span> <span class="k">then
</span>13     <span class="nb">echo</span> <span class="s2">"3 is less than 7"</span>
14 <span class="k">fi
</span>15 <span class="c"># Test less than or equal</span>
16 <span class="k">if</span> <span class="o">((</span> 7 &lt;<span class="o">=</span> 7 <span class="o">))</span><span class="p">;</span> <span class="k">then
</span>17     <span class="nb">echo</span> <span class="s2">"7 is less than or equal to 7"</span>
18 <span class="k">fi
</span>19 <span class="c"># Test equality</span>
20 <span class="k">if</span> <span class="o">((</span> 7 <span class="o">==</span> 7 <span class="o">))</span><span class="p">;</span> <span class="k">then
</span>21     <span class="nb">echo</span> <span class="s2">"7 is equal to 7"</span>
22 <span class="k">fi
</span>23 <span class="c"># Test inequality</span>
24 <span class="k">if</span> <span class="o">((</span> a <span class="o">=</span> 3, 8 <span class="o">!=</span> 7 <span class="o">&amp;&amp;</span> 7 &lt; 10 <span class="o">))</span><span class="p">;</span> <span class="k">then
</span>25     <span class="nb">echo</span> <span class="s2">"8 is not equal to 7 and 7 is less than 10"</span>
26 <span class="k">fi
</span>27 <span class="c"># Remove a file that does not exist</span>
28 <span class="nb">rm</span> /tmp/does_not_exist
29 <span class="nb">echo</span> <span class="s2">"Result: </span><span class="nv">$?</span><span class="s2">"</span>
30 <span class="o">((</span> b <span class="o">=</span> 4 <span class="o">))</span>
31 <span class="nb">echo</span> <span class="s2">"Result: </span><span class="nv">$?</span><span class="s2">"</span>
</code></pre></div></div>

<p>In the last script you can see several uses of the compound command “<code class="language-plaintext highlighter-rouge">((...))</code>” by itself (lines 12, 16, 20 and 30), in combination with another operator (line 9) and using several expressions in the same environment (line 29).</p>

<p>If you pay attention to line 24, you will see that there are two expressions between the parenthesis. The first one is assigning the value “<code class="language-plaintext highlighter-rouge">3</code>” to the variable “<code class="language-plaintext highlighter-rouge">a</code>”. The second expression is evaluating a boolean condition whose result is true. This value of true will be used in the “<code class="language-plaintext highlighter-rouge">if</code>” statement as a condition. As the condition is true the message in line 25 will be printed.</p>

<p>The last four lines (28 to 31) are showing the result code of two commands. First we try to remove a file that does not exist and, obviously, this command will fail (generating an exit status of “<code class="language-plaintext highlighter-rouge">1</code>”). Second we use an assignment with the “<code class="language-plaintext highlighter-rouge">((...))</code>” command which is successful, having an exit status of “<code class="language-plaintext highlighter-rouge">0</code>”.</p>

<p>When run the script you will get the following output in your terminal.</p>

<pre><code class="language-txt">$ ./if_statement_double_parentheses.sh
Condition is true
3 is less than 7
7 is less than or equal to 7
7 is equal to 7
8 is not equal to 7 and 7 is less than 10
rm: cannot remove '/tmp/does_not_exist': No such file or directory
Result: 1
Result: 0
</code></pre>

<h2 id="summary">Summary</h2>

<p>In this chapter we learnt how to use the “<code class="language-plaintext highlighter-rouge">if</code>” statement and its different variations (“<code class="language-plaintext highlighter-rouge">if</code>”, “<code class="language-plaintext highlighter-rouge">if-else</code>”, “<code class="language-plaintext highlighter-rouge">if-elif</code>”, “<code class="language-plaintext highlighter-rouge">if-elif-else</code>”).</p>

<p>We also learnt the different ways to test for conditions that will be evaluated in “<code class="language-plaintext highlighter-rouge">if</code>” or “<code class="language-plaintext highlighter-rouge">elif</code>”.</p>

<p>First we learnt about the “<code class="language-plaintext highlighter-rouge">test</code>” and “<code class="language-plaintext highlighter-rouge">[...]</code>” operators which are basically doing the same thing.</p>

<p>Then we learnt about the “<code class="language-plaintext highlighter-rouge">[[...]]</code>” operator which is an improved version of the previous two operators.</p>

<p>Finally we learnt about the compound command “<code class="language-plaintext highlighter-rouge">((...))</code>” that we use to evaluate numerical operations.</p>

<p>We learnt a lot in this chapter, so take your time to go over this material again if there is something that you didn’t fully get.</p>

<p>Remember, <em>practice makes perfect</em>. So? Practice, practice practice.</p>

<h2 id="references">References</h2>

<ol>
  <li><a href="https://linuxhint.com/bash-test-command/">https://linuxhint.com/bash-test-command/</a></li>
  <li><a href="https://linuxhint.com/bash_if_else_examples/">https://linuxhint.com/bash_if_else_examples/</a></li>
  <li><a href="https://linuxize.com/post/bash-if-else-statement/">https://linuxize.com/post/bash-if-else-statement/</a></li>
  <li><a href="https://stackoverflow.com/questions/2188199/how-to-use-double-or-single-brackets-parentheses-curly-braces">https://stackoverflow.com/questions/2188199/how-to-use-double-or-single-brackets-parentheses-curly-braces</a></li>
  <li><a href="https://stackoverflow.com/questions/31255699/double-parenthesis-with-and-without-dollar">https://stackoverflow.com/questions/31255699/double-parenthesis-with-and-without-dollar</a></li>
  <li><a href="https://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO-6.html">https://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO-6.html</a></li>
  <li><a href="https://tldp.org/LDP/abs/html/dblparens.html">https://tldp.org/LDP/abs/html/dblparens.html</a></li>
  <li><a href="https://unix.stackexchange.com/questions/306111/what-is-the-difference-between-the-bash-operators-vs-vs-vs">https://unix.stackexchange.com/questions/306111/what-is-the-difference-between-the-bash-operators-vs-vs-vs</a></li>
  <li><a href="https://www.baeldung.com/linux/bash-single-vs-double-brackets">https://www.baeldung.com/linux/bash-single-vs-double-brackets</a></li>
</ol>

<hr style="width:100%;text-align:center;margin-left:0;margin-bottom:10px;" />

<p id="footnote-1" style="font-size:10pt">
1. Located usually in the “/usr/bin” folder.<a href="#footnote-1-ref">&#8617;</a>
</p>
<p id="footnote-2" style="font-size:10pt">
2. Type in your terminal “man test” to know more.<a href="#footnote-2-ref">&#8617;</a>
</p>
<p id="footnote-X" style="font-size:10pt">
3. The Korn shell. Check <a href="https://en.wikipedia.org/wiki/KornShell">KornShell</a> for more information.<a href="#footnote-X-ref">&#8617;</a>
</p>


</div>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The Engineering Corner</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The Engineering Corner</li><li><a class="u-email" href="mailto:the.engineering.corner.314@gmail.com">the.engineering.corner.314@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I hope you will have fun and learn new things reading this blog.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
