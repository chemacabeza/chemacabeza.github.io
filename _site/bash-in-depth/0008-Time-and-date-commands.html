<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Chapter 8: time and date commands | The Engineering Corner</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Chapter 8: time and date commands" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Chapter 8: time and date commands" />
<meta property="og:description" content="Chapter 8: time and date commands" />
<link rel="canonical" href="http://localhost:4000/bash-in-depth/0008-Time-and-date-commands.html" />
<meta property="og:url" content="http://localhost:4000/bash-in-depth/0008-Time-and-date-commands.html" />
<meta property="og:site_name" content="The Engineering Corner" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-09-27T14:04:01+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Chapter 8: time and date commands" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-09-27T14:04:01+02:00","datePublished":"2024-09-27T14:04:01+02:00","description":"Chapter 8: time and date commands","headline":"Chapter 8: time and date commands","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/bash-in-depth/0008-Time-and-date-commands.html"},"url":"http://localhost:4000/bash-in-depth/0008-Time-and-date-commands.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="The Engineering Corner" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">The Engineering Corner</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
						<a class="page-link" href="/about/">About</a>
            <a class="page-link" href="/bash-in-depth/">Bash In Depth</a>
				</div>
      </nav></div>
</header>

<!--header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" href="/">The Engineering Corner</a>
    <nav class="site-nav">
      <label for="nav-trigger">
        <svg aria-hidden="true" class="icon-menu">
          <use xlink:href="#icon-menu"></use>
        </svg>
      </label>
      <div class="trigger">
          
          <a href="/bash-in-depth/">Bash In Depth</a>
      </div>
    </nav>
  </div>
</header-->

<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="chapter-content">
  <h1 id="chapter-8-time-and-date-commands">Chapter 8: <code class="language-plaintext highlighter-rouge">time</code> and <code class="language-plaintext highlighter-rouge">date</code> commands</h1>

<h2 id="index">Index</h2>
<ul>
  <li><a href="http://localhost:4000//bash-in-depth/0008-Time-and-date-commands.html#index">Index</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0008-Time-and-date-commands.html#the-time-command">The <code class="language-plaintext highlighter-rouge">time</code> command</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0008-Time-and-date-commands.html#the-date-command">The <code class="language-plaintext highlighter-rouge">date</code> command</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0008-Time-and-date-commands.html#summary">Summary</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0008-Time-and-date-commands.html#references">References</a></li>
</ul>

<hr style="width:100%;text-align:center;margin-left:0;margin-bottom:10px" />

<p>The “<code class="language-plaintext highlighter-rouge">time</code>” and “<code class="language-plaintext highlighter-rouge">date</code>” commands in Bash are essential utilities that provide valuable information about time, date, and the execution time of commands and scripts. They play crucial roles in scripting, system administration, and various automation tasks, helping users manage time-related data and track the performance of processes.</p>

<p>The “<code class="language-plaintext highlighter-rouge">date</code>” command allows users to display and manipulate date and time information. It provides a way to retrieve the current date and time, format it according to various preferences, and even perform date arithmetic. With “<code class="language-plaintext highlighter-rouge">date</code>”, users can generate timestamps for logs, schedule tasks, and create custom date formats for displaying time-related information in scripts or on the command line. Its flexibility makes it a versatile tool for working with time-related data in a Bash environment.</p>

<p>On the other hand, the “<code class="language-plaintext highlighter-rouge">time</code>” command serves a different but equally important purpose. It is used to measure the execution time of a given command or script. By running a command with “<code class="language-plaintext highlighter-rouge">time</code>” as a prefix, users can obtain detailed information about the real time elapsed, system time used, and user time consumed during the execution of that command. This is incredibly valuable for performance analysis, profiling, and optimizing scripts and processes. It allows users to identify bottlenecks, measure the impact of optimizations, and gain insights into how efficiently a command or script runs.</p>

<p>Overall, “<code class="language-plaintext highlighter-rouge">time</code>” and “<code class="language-plaintext highlighter-rouge">date</code>” are indispensable utilities in your Bash toolbox, enabling users to work effectively with time and to analyze the performance of their scripts and commands.</p>

<h2 id="the-time-command">The <code class="language-plaintext highlighter-rouge">time</code> command</h2>
<p>As we mentioned already in the introduction of this chapter, the “<code class="language-plaintext highlighter-rouge">time</code>” command is used to measure the execution time of a given command or script.</p>

<p>When the “<code class="language-plaintext highlighter-rouge">time</code>” command is executed the following steps happen:</p>
<ul>
  <li>Step-1: Takes the current time (before executing the command)</li>
  <li>Step-2: Executes the command passed as argument</li>
  <li>Step-3: Takes the current time again (after executing the command)</li>
  <li>Step-4: Calculates the difference between times at steps #1 and #3</li>
  <li>Step-5: Prints the result coming from the “<code class="language-plaintext highlighter-rouge">time</code>” command with three different durations</li>
</ul>

<p>Let’s see how it works with the following example where we are going to measure the “<code class="language-plaintext highlighter-rouge">ls</code>”<a id="footnote-1-ref" href="#footnote-1" style="font-size:x-small">[1]</a> command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: time_ls.sh</span>
 3 <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"Beginning</span><span class="se">\n</span><span class="s2">"</span>
 4 <span class="nb">time ls</span> <span class="nt">-l</span>
 5 <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">End"</span>
</code></pre></div></div>

<p>When you execute the previous script you will have as result something like the following.</p>

<pre><code class="language-txt">$ ./time_ls.sh
Beginning

total 4
-rwxrwxr-x 1 username username 89 Sep 20 19:36 time_ls.sh

real	0m0.003s
user	0m0.001s
sys 	0m0.002s

End
</code></pre>

<p>Right after the command is executed you will see that there are 3 additional lines with “<code class="language-plaintext highlighter-rouge">real</code>”, “<code class="language-plaintext highlighter-rouge">user</code>” and “<code class="language-plaintext highlighter-rouge">sys</code>”. Those are different durations and their meaning is as follows:</p>
<ul>
  <li><strong>Real</strong> (“<em>Real CPU Time</em>”): Wall clock time, also known as the call’s total duration, encompasses all the time elapsed during the entire call’s lifecycle. This includes not only the time actively spent executing the call but also any periods during which the process is waiting for input/output operations to conclude or sharing processor time with other processes.</li>
  <li><strong>User</strong> (“<em>User CPU Time</em>”): Represents the quantity of CPU time utilized by a process for executing user-mode code, excluding any time spent inside the kernel. It accounts solely for the actual CPU time actively consumed during the process’s execution, without considering time spent by other processes or periods during which the process is blocked.</li>
  <li><strong>Sys</strong> (“<em>Kernel CPU Time</em>”): Represents the duration of CPU time allocated to a process while executing code within the kernel. This accounts for the CPU time expended on system calls within the kernel, distinct from library code that remains in user-space. Similar to “User CPU Time,” it signifies exclusively the CPU time directly utilized by the process itself.</li>
</ul>

<p>You can find way more information about the “<code class="language-plaintext highlighter-rouge">time</code>” command in its man page<a id="footnote-2-ref" href="#footnote-2" style="font-size:x-small">[2]</a>. Be curious and read a bit of its man page.</p>

<p>Now that we are familiar with the “<code class="language-plaintext highlighter-rouge">time</code>” command we will dig into the “<code class="language-plaintext highlighter-rouge">date</code>” command.</p>

<h2 id="the-date-command">The <code class="language-plaintext highlighter-rouge">date</code> command</h2>
<p>As we already mentioned in the introduction of this chapter, the “date” command allows users to display and manipulate date and time information and it also provides a way to retrieve the current date and time, format it according to various preferences, and even perform date arithmetic</p>

<p>You can run this command in two different ways: Without arguments and with arguments.</p>

<p>If you run the “date” command <strong>with no arguments</strong>, it will print the current date with the day of the week, the month, the day of the month, the time, the time zone and the year.</p>

<p>Optionally, you are allowed to pass <strong>arguments</strong> to the “<code class="language-plaintext highlighter-rouge">date</code>” command. What you do is to pass a string with the format “<code class="language-plaintext highlighter-rouge">+&lt;output_format&gt;</code>” where “<code class="language-plaintext highlighter-rouge">&lt;output_format&gt;</code>” is a plain string that can contain special string sequences that have a special meaning.</p>

<p>In the following table you will see all the string sequences that are allowed and their description.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">%format String</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%%</code></td>
      <td style="text-align: left">A literal <code class="language-plaintext highlighter-rouge">%</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%a</code></td>
      <td style="text-align: left">locale’s abbreviated weekday name (e.g., Sun)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%A</code></td>
      <td style="text-align: left">locale’s full weekday name (e.g., Sunday)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%b</code></td>
      <td style="text-align: left">locale’s abbreviated month name (e.g., Jan)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%B</code></td>
      <td style="text-align: left">locale’s full month name (e.g., January)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%c</code></td>
      <td style="text-align: left">locale’s date and time (e.g., Thu Mar 3 23:05:25 2005)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%C</code></td>
      <td style="text-align: left">century; like %Y, except omit last two digits (e.g., 21)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%d</code></td>
      <td style="text-align: left">day of month (e.g, 01)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%D</code></td>
      <td style="text-align: left">date; same as <code class="language-plaintext highlighter-rouge">%m/%d/%y</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%e</code></td>
      <td style="text-align: left">day of month, space padded; same as <code class="language-plaintext highlighter-rouge">%d</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%F</code></td>
      <td style="text-align: left">full date; same as <code class="language-plaintext highlighter-rouge">%Y-%m-%d</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%g</code></td>
      <td style="text-align: left">last two digits of year of ISO week number (see <code class="language-plaintext highlighter-rouge">%G</code>)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%G</code></td>
      <td style="text-align: left">year of ISO week number (see <code class="language-plaintext highlighter-rouge">%V</code>); normally useful only with %V</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%h</code></td>
      <td style="text-align: left">same as <code class="language-plaintext highlighter-rouge">%b</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%H</code></td>
      <td style="text-align: left">hour (00..23)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%I</code></td>
      <td style="text-align: left">hour (01..12)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%j</code></td>
      <td style="text-align: left">day of year (001..366)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%k</code></td>
      <td style="text-align: left">hour ( 0..23)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%l</code></td>
      <td style="text-align: left">hour ( 1..12)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%m</code></td>
      <td style="text-align: left">month (01..12)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%M</code></td>
      <td style="text-align: left">minute (00..59)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%n</code></td>
      <td style="text-align: left">a newline</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%N</code></td>
      <td style="text-align: left">nanoseconds (000000000..999999999)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%p</code></td>
      <td style="text-align: left">locale’s equivalent of either AM or PM; blank if not known</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%P</code></td>
      <td style="text-align: left">like <code class="language-plaintext highlighter-rouge">%p</code>, but lower case</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%r</code></td>
      <td style="text-align: left">locale’s 12-hour clock time (e.g., 11:11:04 PM)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%R</code></td>
      <td style="text-align: left">24-hour hour and minute; same as <code class="language-plaintext highlighter-rouge">%H:%M</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%s</code></td>
      <td style="text-align: left">seconds since 1970-01-01 00:00:00 UTC</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%S</code></td>
      <td style="text-align: left">second (00..60)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%t</code></td>
      <td style="text-align: left">a tab</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%T</code></td>
      <td style="text-align: left">time; same as <code class="language-plaintext highlighter-rouge">%H:%M:%S</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%u</code></td>
      <td style="text-align: left">day of week (1..7); 1 is Monday</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%U</code></td>
      <td style="text-align: left">week number of year, with Sunday as first day of week (00..53)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%V</code></td>
      <td style="text-align: left">ISO week number, with Monday as first day of week (01..53)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%w</code></td>
      <td style="text-align: left">day of week (0..6); 0 is Sunday</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%W</code></td>
      <td style="text-align: left">week number of year, with Monday as first day of week (00..53)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%x</code></td>
      <td style="text-align: left">locale’s date representation (e.g., 12/31/99)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%X</code></td>
      <td style="text-align: left">locale’s time representation (e.g., 23:13:48)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%y</code></td>
      <td style="text-align: left">last two digits of year (00..99)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%Y</code></td>
      <td style="text-align: left">year</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%z</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">+hhmm</code> numeric timezone (e.g., -0400)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%:z</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">+hh:mm</code> numeric timezone (e.g., -04:00)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%::z</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">+hh:mm:ss</code> numeric time zone (e.g., -04:00:00)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%:::z</code></td>
      <td style="text-align: left">numeric time zone with <code class="language-plaintext highlighter-rouge">:</code> to necessary precision (e.g., -04, +05:30)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">%Z</code></td>
      <td style="text-align: left">alphabetic time zone abbreviation (e.g., EDT)</td>
    </tr>
  </tbody>
</table>

<p>Let’s see a few examples in the following script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: date_custom_format.sh</span>
 3 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Date without arguments&gt; "</span>
 4 <span class="nb">date
 </span>5 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"American Date Format  &gt; "</span>
 6 <span class="nb">date</span> +<span class="s2">"%m-%d-%Y"</span>
 7 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"American Date Format 2&gt; "</span>
 8 <span class="nb">date</span> +<span class="s2">"%B-%d-%Y"</span>
 9 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Custom Format&gt; "</span>
10 <span class="nb">date</span> +<span class="s2">"Year: %Y, Month: %B, Day of month:%d, Week of year:%U"</span>
</code></pre></div></div>

<p>When you run the previous script you will get the following output in your terminal.</p>

<pre><code class="language-txt">$ ./date_custom_format.sh
Date without arguments&gt; Sat Sep 21 09:29:10 AM CEST 2024
American Date Format  &gt; 09-21-2024
American Date Format 2&gt; September-21-2024
Custom Format&gt; Year: 2024, Month: September, Day of month:21, Week of year:37
</code></pre>

<p>With the “<code class="language-plaintext highlighter-rouge">date</code>” command not only we can show different types of format for the current or a given date but we can also do “<em>date arithmetic</em>”, meaning that we can get other dates by adding or subtracting minutes, hours, days, months or years to a given date.</p>

<p>The “<code class="language-plaintext highlighter-rouge">date</code>” command comes with the option “<code class="language-plaintext highlighter-rouge">--date</code>” (or “<code class="language-plaintext highlighter-rouge">-d</code>”) where you can pass either a date or a flexible, human-readable date format, offering considerable freedom for specifying date and time.</p>

<p>This format can include expressions like “<code class="language-plaintext highlighter-rouge">Sun, 29 Feb 2004 16:21:42 -0800</code>”, “<code class="language-plaintext highlighter-rouge">2004-02-29 16:21:42</code>”, or even more abstract descriptions like “<code class="language-plaintext highlighter-rouge">next Thursday</code>”. Within this date string, you can incorporate elements that represent calendar dates, times of day, time zones, days of the week, relative times, relative dates, and numeric values. An empty string signifies the start of the day. It’s important to note that the date string format is intricate and comprehensive, extending beyond what can be succinctly detailed here; for a comprehensive guide, please refer to the man page of the command.</p>

<p>In the next script we are going to see several examples of a few literal strings we can use to refer to dates with the “<code class="language-plaintext highlighter-rouge">date</code>” command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: date_custom_format_2.sh</span>
 3 <span class="c"># Date of today</span>
 4 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Today: "</span>
 5 <span class="nb">date
 </span>6 <span class="c"># Date of last Friday</span>
 7 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Last Friday: "</span>
 8 <span class="nb">date</span> <span class="nt">-d</span> <span class="s1">'last Friday'</span>
 9 <span class="c"># Date of next month</span>
10 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Next Month: "</span>
11 <span class="nb">date</span> <span class="nt">-d</span> <span class="s1">'next month'</span>
12 <span class="c"># Date of March 2nd, 2022 plus 1 year</span>
13 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Date +1 year: "</span>
14 <span class="nb">date</span> <span class="nt">-d</span> <span class="s1">'March 2, 2022 +1 year'</span>
15 <span class="c"># Date of March 2nd, 2022 plus a random time</span>
16 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Date + random time: "</span>
17 <span class="nb">date</span> <span class="nt">-d</span> <span class="s1">'March 2, 2022 +1 year +2 days +16 hours +17 minutes +12 seconds'</span>
18 <span class="c"># Date of March 2nd, 2022 minus a random time</span>
19 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Date - random time: "</span>
20 <span class="nb">date</span> <span class="nt">-d</span> <span class="s1">'March 2, 2022 -1 year -2 days -16 hours -17 minutes -12 seconds'</span>
</code></pre></div></div>

<p>In the previous script you will see that we are using several types of literal strings to specify dates. When you run the previous script you will get something like the following.</p>

<pre><code class="language-txt">$ ./date_custom_format_2.sh
Today: Sat Sep 21 10:10:33 AM CEST 2024
Last Friday: Fri Sep 20 12:00:00 AM CEST 2024
Next Month: Mon Oct 21 10:10:33 AM CEST 2024
Date +1 year: Thu Mar  2 12:00:00 AM CET 2023
Date + random time: Sat Mar  4 04:17:12 PM CET 2023
Date - random time: Sat Feb 27 07:42:48 AM CET 2021
</code></pre>

<p>In the previous script and result of execution you can see that you can actually do arithmetic with dates with the “<code class="language-plaintext highlighter-rouge">date</code>” command. A very clear set of examples are the ones that appear on lines 17 and 20. On those lines you see that we selected a random date (March 2nd 2022) and we added (and subtracted) an arbitrary amount of time from both which gives as result another date.</p>

<p>The last thing we are going to show about the “<code class="language-plaintext highlighter-rouge">date</code>” command is that you can use it to calculate the time span between two given dates.</p>

<p>We are going to use the “<code class="language-plaintext highlighter-rouge">date</code>” command as follows.</p>

<div style="text-align:center">
<img src="/assets/bash-in-depth/0008-Time-and-date-commands/DateCommandFormat.png" width="400px" />
</div>

<p>With this way of using the command we can provide two different arguments. The first argument is the “<code class="language-plaintext highlighter-rouge">--date</code>” option where we provide the date we are operating on. The second argument is a string with the format we want to extract from the date provided which, in our case, is the Unix time<a id="footnote-3-ref" href="#footnote-3" style="font-size:x-small">[3]</a> (also known as epoch time).</p>

<p>Let’s see how to use the “<code class="language-plaintext highlighter-rouge">date</code>” command to calculate time spans with an example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: date_span.sh</span>
 3 <span class="c"># Declare a start date</span>
 4 <span class="nv">startDate</span><span class="o">=</span><span class="s2">"March 2 2015 10:08:33"</span>
 5 <span class="c"># Declare an end date</span>
 6 <span class="nv">endDate</span><span class="o">=</span><span class="s2">"April 1 2022 12:12:45"</span>
 7 <span class="c"># Calculate the timestamp for the start date</span>
 8 <span class="nv">epochStartDate</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> <span class="nt">--date</span><span class="o">=</span><span class="s2">"</span><span class="nv">$startDate</span><span class="s2">"</span> <span class="s1">'+%s'</span><span class="si">)</span>
 9 <span class="c"># Calculate the timestamp for the end date</span>
10 <span class="nv">epochEndDate</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> <span class="nt">--date</span><span class="o">=</span><span class="s2">"</span><span class="nv">$endDate</span><span class="s2">"</span> <span class="s1">'+%s'</span><span class="si">)</span>
11 <span class="c"># Calculate the number of seconds in a day</span>
12 <span class="nv">secondsInADay</span><span class="o">=</span><span class="k">$((</span> <span class="m">24</span><span class="o">*</span><span class="m">3600</span> <span class="k">))</span>
13 <span class="c"># Calculate the number of days between the two dates</span>
14 <span class="nv">spanInDays</span><span class="o">=</span><span class="k">$((</span> <span class="o">(</span>epochEndDate <span class="o">-</span> epochStartDate<span class="o">)</span> <span class="o">/</span> secondsInADay <span class="k">))</span>
15 <span class="c"># Print the end result</span>
16 <span class="nb">echo</span> <span class="s2">"There are </span><span class="nv">$spanInDays</span><span class="s2"> days between '</span><span class="nv">$startDate</span><span class="s2">' and '</span><span class="nv">$endDate</span><span class="s2">'"</span>
</code></pre></div></div>

<p>What is going on in the previous script? Let’s take a look at it line by line to better understand it.</p>

<p>On lines 4 and 6 we are declaring a couple of dates where we specify the month, the day of the month, the year and the time.</p>

<p>On lines 8 and 10 we use something that in Bash is called “<em>Command Substitution</em>”. This is something that we will talk about in a later chapter but, in short, it executes a command in a subshell and stores the result in a variable. In this case we are getting the epoch time from the two dates provided and we store them in a couple of variables that we will use to calculate the time span.</p>

<p>On line 12 we declare a variable that contains the number of seconds that a day has.</p>

<p>On line 14 we calculate the number of days that have passed between the two dates. In this case we calculate the difference, in seconds, between the two dates and we divide the result by the number of seconds in a day. This gives us the number of days that have passed between the two dates.</p>

<p>Finally, on line 16, we do print the result.</p>

<p>When you run the previous script you will get the following result in your terminal.</p>

<pre><code class="language-txt">$ ./date_span.sh
There are 2587 days between 'March 2 2015 10:08:33' and 'April 1 2022 12:12:45'
</code></pre>

<p>With this we end this chapter where you learn a lot about the “<code class="language-plaintext highlighter-rouge">time</code>” and “<code class="language-plaintext highlighter-rouge">date</code>” commands.</p>

<h2 id="summary">Summary</h2>
<p>Well done!</p>

<p>In this chapter we learnt about two very important and useful commands in Bash.</p>

<p>We learnt how to use the “<code class="language-plaintext highlighter-rouge">time</code>” command, which is mainly to calculate the time of execution of other commands.</p>

<p>We learnt, as well, how to use the “<code class="language-plaintext highlighter-rouge">date</code>” command that allows us to pass it the argument “<code class="language-plaintext highlighter-rouge">--date</code>” to set the base date that we will use to extract information from. With this command we learnt as well to calculate time spans between two given dates.</p>

<p>My recommendation to you is that you give it a try to the different commands that you learnt in this chapter.</p>

<p>Be curious!</p>

<h2 id="references">References</h2>
<ol>
  <li><a href="https://stackoverflow.com/questions/556405/what-do-real-user-and-sys-mean-in-the-output-of-time1">https://stackoverflow.com/questions/556405/what-do-real-user-and-sys-mean-in-the-output-of-time1</a></li>
  <li><a href="https://www.cyberciti.biz/faq/unix-linux-time-command-examples-usage-syntax/">https://www.cyberciti.biz/faq/unix-linux-time-command-examples-usage-syntax/</a></li>
  <li><a href="https://www.gnu.org/software/coreutils/manual/html_node/Date-format-specifiers.html">https://www.gnu.org/software/coreutils/manual/html_node/Date-format-specifiers.html</a></li>
  <li><a href="https://www.gnu.org/software/coreutils/manual/html_node/Examples-of-date.html">https://www.gnu.org/software/coreutils/manual/html_node/Examples-of-date.html</a></li>
  <li><a href="https://www.gnu.org/software/coreutils/manual/html_node/Options-for-date.html">https://www.gnu.org/software/coreutils/manual/html_node/Options-for-date.html</a></li>
  <li><a href="https://www.gnu.org/software/coreutils/manual/html_node/date-invocation.html">https://www.gnu.org/software/coreutils/manual/html_node/date-invocation.html</a></li>
  <li><a href="https://www.hostinger.com/tutorials/linux-time-command/">https://www.hostinger.com/tutorials/linux-time-command/</a></li>
  <li><a href="https://www.linuxjournal.com/content/doing-date-math-command-line-part-i">https://www.linuxjournal.com/content/doing-date-math-command-line-part-i</a></li>
  <li><a href="https://www.linuxjournal.com/content/doing-date-math-command-line-part-ii">https://www.linuxjournal.com/content/doing-date-math-command-line-part-ii</a></li>
</ol>

<hr style="width:100%;text-align:center;margin-left:0;margin-bottom:10px;" />

<p id="footnote-1" style="font-size:10pt">
1. The “<code>ls</code>” command is used to display (or “<b>list</b>”) the content of a folder. You can learn more about this command by typing “<code>man ls</code>” in your terminal.<a href="#footnote-1-ref">&#8617;</a>
</p>
<p id="footnote-2" style="font-size:10pt">
2. Just type in your terminal “<code>man time</code>”.<a href="#footnote-2-ref">&#8617;</a>
</p>
<p id="footnote-X" style="font-size:10pt">
3. Unix time (or epoch time) is the number of seconds that have elapsed since January 1st 1970 at 00:00:00 UTC.<a href="#footnote-X-ref">&#8617;</a>
</p>


</div>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The Engineering Corner</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The Engineering Corner</li><li><a class="u-email" href="mailto:the.engineering.corner.314@gmail.com">the.engineering.corner.314@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I hope you will have fun and learn new things reading this blog.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
