<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Chapter 5: Working with Strings | The Engineering Corner</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Chapter 5: Working with Strings" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Chapter 5: Working with Strings" />
<meta property="og:description" content="Chapter 5: Working with Strings" />
<link rel="canonical" href="http://localhost:4000/bash-in-depth/0005-Working-with-Strings.html" />
<meta property="og:url" content="http://localhost:4000/bash-in-depth/0005-Working-with-Strings.html" />
<meta property="og:site_name" content="The Engineering Corner" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-11-04T06:06:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Chapter 5: Working with Strings" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-11-04T06:06:00+01:00","datePublished":"2024-11-04T06:06:00+01:00","description":"Chapter 5: Working with Strings","headline":"Chapter 5: Working with Strings","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/bash-in-depth/0005-Working-with-Strings.html"},"url":"http://localhost:4000/bash-in-depth/0005-Working-with-Strings.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="The Engineering Corner" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">The Engineering Corner</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
						<a class="page-link" href="/about/">About</a>
            <a class="page-link" href="/bash-in-depth/">Bash In Depth</a>
				</div>
      </nav></div>
</header>

<!--header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" href="/">The Engineering Corner</a>
    <nav class="site-nav">
      <label for="nav-trigger">
        <svg aria-hidden="true" class="icon-menu">
          <use xlink:href="#icon-menu"></use>
        </svg>
      </label>
      <div class="trigger">
          
          <a href="/bash-in-depth/">Bash In Depth</a>
      </div>
    </nav>
  </div>
</header-->

<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Chapter 5: Working with Strings | The Engineering Corner</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Chapter 5: Working with Strings" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Chapter 5: Working with Strings" />
<meta property="og:description" content="Chapter 5: Working with Strings" />
<link rel="canonical" href="http://localhost:4000/bash-in-depth/0005-Working-with-Strings.html" />
<meta property="og:url" content="http://localhost:4000/bash-in-depth/0005-Working-with-Strings.html" />
<meta property="og:site_name" content="The Engineering Corner" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-11-04T06:06:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Chapter 5: Working with Strings" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-11-04T06:06:00+01:00","datePublished":"2024-11-04T06:06:00+01:00","description":"Chapter 5: Working with Strings","headline":"Chapter 5: Working with Strings","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/bash-in-depth/0005-Working-with-Strings.html"},"url":"http://localhost:4000/bash-in-depth/0005-Working-with-Strings.html"}</script>
<!-- End Jekyll SEO tag -->

<div class="chapter-content">
  <h1 id="chapter-5-working-with-strings">Chapter 5: Working with Strings</h1>

<h2 id="index">Index</h2>
<ul>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#how-to-declare-a-string">How to declare a String?</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#string-length">String length</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#substrings">Substrings</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#remove-some-parts-of-a-string">Remove some parts of a string</a>
    <ul>
      <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#remove-shortest-substring-starting-from-the-front">Remove shortest substring starting from the front</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#remove-longest-substring-starting-from-the-front">Remove longest substring starting from the front</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#remove-shortest-substring-starting-from-the-back">Remove shortest substring starting from the back</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#remove-longest-substring-starting-from-the-back">Remove longest substring starting from the back</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#example">Example</a></li>
    </ul>
  </li>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#substring-replacement">Substring Replacement</a>
    <ul>
      <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#replace-the-first-match">Replace the first match</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#replace-all-matches">Replace all matches</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#another-example">Another Example</a></li>
    </ul>
  </li>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#uppercase--lowercase">Uppercase / Lowercase</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#concatenation">Concatenation</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#summary">Summary</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0005-Working-with-Strings.html#references">References</a></li>
</ul>

<hr style="width:100%;text-align:center;margin-left:0;margin-bottom:10px" />

<p>In software engineering, we use the term “<em>strings</em>” to talk about a sequence of characters, like letters, numbers, or symbols, that are grouped together. Think of a string as a word or a sentence, just like the ones you use when texting your friends.</p>

<p>For example, the word “<code class="language-plaintext highlighter-rouge">hello</code>” is a string. It’s a series of characters - <code class="language-plaintext highlighter-rouge">'h'</code>, <code class="language-plaintext highlighter-rouge">'e'</code>, <code class="language-plaintext highlighter-rouge">'l'</code>, <code class="language-plaintext highlighter-rouge">'l'</code>, <code class="language-plaintext highlighter-rouge">'o'</code> - that are strung together to make a word. But strings can be much longer than just one word; they can be as short as one character or as long as an entire book!</p>

<p>We use strings in software for lots of things. We might use them to store your name, to display messages on a computer screen, to read data from a file, or to send information over the internet. So, in a nutshell, strings in software are just like words or sentences made up of characters, and they’re super important for all kinds of computer programs.</p>

<p>In this chapter we will learn about strings.</p>

<h2 id="how-to-declare-a-string">How to declare a String?</h2>

<p>There are three main ways to declare a string in Bash.</p>

<p>The first way of declaring a string in bash has the following syntax.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">myVariable</span><span class="o">=</span>myValue
</code></pre></div></div>

<p>In this case you see that there are no quotes around “<code class="language-plaintext highlighter-rouge">myValue</code>”. Let’s see a simple example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: declare_string.sh</span>
 3 <span class="nv">myVariable</span><span class="o">=</span>myValue
 4 <span class="nb">echo</span> <span class="s2">"Variable: </span><span class="nv">$myVariable</span><span class="s2">"</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following output.</p>

<pre><code class="language-txt">$ ./declare_string.sh
Variable: myValue
</code></pre>

<p>It has to be a single sequence of characters with no space in it. If you add a space in the value of the string, Bash will understand that the string after the space is a command and will try to execute the command. Let’s see it with the following example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: declare_string_wrong.sh</span>
 3 <span class="nv">myVariable</span><span class="o">=</span>myValue otherString
 4 <span class="nb">echo</span> <span class="s2">"Variable: </span><span class="nv">$myVariable</span><span class="s2">"</span>
</code></pre></div></div>

<p>As you can see in the line 3 there is the string <code class="language-plaintext highlighter-rouge">otherString</code> after the space character. When you execute the previous script you will get the following output.</p>

<pre><code class="language-txt">$ ./declare_string_wrong.sh
./declare_string_wrong.sh: line 3: otherString: command not found
Variable:
</code></pre>

<p>Also in this category of declaring strings you could also attach another variable at the end like in the following example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">myVariable</span><span class="o">=</span>myValue<span class="nv">$myOtherVariable</span>
</code></pre></div></div>

<p>This way will build a single string that starts with <code class="language-plaintext highlighter-rouge">myValue</code> and appends the contents of the <code class="language-plaintext highlighter-rouge">myOtherVariable</code> variable creating a single string whose value will be assigned to the variable <code class="language-plaintext highlighter-rouge">myVariable</code>.</p>

<p>The second way is to <strong>use double quotes</strong> to allow spaces within our string. The syntax of this approach is as follows.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">myVariable</span><span class="o">=</span>”my value”
</code></pre></div></div>

<p>Let’s see a very simple example with the next script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: declare_string_with_double_quotes.sh</span>
 3 <span class="nv">myVariable</span><span class="o">=</span><span class="s2">"This is a string that contains 8 space characters"</span>
 4 <span class="nb">echo</span> <span class="s2">"Variable: </span><span class="nv">$myVariable</span><span class="s2">"</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following result.</p>

<pre><code class="language-txt">$ ./declare_string_with_double_quotes.sh
Variable: This is a string that contains 8 space characters
</code></pre>

<p>In this case, the value of the string can contain spaces and will expand the values of other variables referenced. In the following example you will see that the value of the variable “<code class="language-plaintext highlighter-rouge">myVariable</code>” references another variable called “<code class="language-plaintext highlighter-rouge">value</code>”.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">myVariable</span><span class="o">=</span>”This <span class="nv">$value</span> will be replaced”
</code></pre></div></div>

<p>Let’s see how this works with an example script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: declare_string_that_references_another_variable.sh</span>
 3 <span class="nv">value</span><span class="o">=</span><span class="s2">"a string that contains"</span>
 4 <span class="nv">myVariable</span><span class="o">=</span><span class="s2">"This is </span><span class="nv">$value</span><span class="s2"> 8 space characters"</span>
 5 <span class="nb">echo</span> <span class="s2">"Variable: '</span><span class="nv">$myVariable</span><span class="s2">'"</span>
</code></pre></div></div>

<p>As you can see in the previous script there is a variable named <code class="language-plaintext highlighter-rouge">value</code> declared in line 3, then the contents of that variable are used in the line 4 to declare the variable named <code class="language-plaintext highlighter-rouge">myVariable</code>.</p>

<p>When you execute the previous script you will get the following output.</p>

<pre><code class="language-txt">$ ./declare_string_that_references_another_variable.sh
Variable: 'This is a string that contains 8 space characters'
</code></pre>

<p>The last way to declare a variable is similar to the previous one but we <strong>use single quotes instead of double quotes</strong>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">myVariable</span><span class="o">=</span>’This <span class="nv">$value</span> will be replaced’
</code></pre></div></div>

<p>The main difference between using single quotes and using double quotes is that if there is any reference to variables inside a single quoted string will never be replaced the contents of the variables will never be added to the string, you will only see the variable reference as it is. Let’s see it with the following example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: declare_string_with_single_quotes.sh</span>
 3 <span class="nv">value</span><span class="o">=</span><span class="s2">"string that contains"</span>
 4 <span class="nv">myVariable</span><span class="o">=</span><span class="s1">'This is a $value 8 space characters'</span>
 5 <span class="nb">echo</span> <span class="s2">"Variable: </span><span class="nv">$myVariable</span><span class="s2">"</span>
</code></pre></div></div>

<p>Depending on the syntax highlighting you are using you might see that the variable referenced in the line 4 of the previous script you might notice that color of the <code class="language-plaintext highlighter-rouge">$value</code> is no longer highlighted. If you execute the previous script you will have the following output.</p>

<pre><code class="language-txt">$ ./declare_string_with_single_quotes.sh
Variable: This is a $value 8 space characters
</code></pre>

<p>As you can see the contents of the variable <code class="language-plaintext highlighter-rouge">value</code> are not included in the string for the variable <code class="language-plaintext highlighter-rouge">myVariable</code>.</p>

<p>Now that we know how to declare a string in the next sections we will learn how to extract information from them (length or substrings) and how to combine strings with other strings.</p>

<h2 id="string-length">String length</h2>
<p>So now that we know how to declare string variables, we are going to learn some of the basic operations we can do with them. Let’s start!</p>

<p>The first thing that we are going to learn about string is how to get the length of a string. For that we need to use the following syntax.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${#</span><span class="nv">myVariable</span><span class="k">}</span>
</code></pre></div></div>

<p>This operator returns the length of the string contained in the variable called “<code class="language-plaintext highlighter-rouge">myVariable</code>”. Let’s see it with an example in the following script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: string_length.sh</span>
 3 <span class="nv">myVariable</span><span class="o">=</span><span class="s2">"My Value"</span>
 4 <span class="nb">echo</span> <span class="s2">"The content of ‘myVariable’ is '</span><span class="nv">$myVariable</span><span class="s2">' and its length is </span><span class="k">${#</span><span class="nv">myVariable</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following output in the terminal.</p>

<pre><code class="language-txt">$ ./string_length.sh
The content of ‘myVariable’ is 'My Value' and its length is 8
</code></pre>

<p>In the previous execution you can see that script prints a string with the name of the variable (“<code class="language-plaintext highlighter-rouge">myVariable</code>”), the content of the variable (“<code class="language-plaintext highlighter-rouge">My Value</code>”) and the length of the content of the variable (8 characters long).</p>

<p>Now that we know how to extract the length of a string variable we are going to change the topic to learning how to extract substrings from a given string variable.</p>

<h2 id="substrings">Substrings</h2>

<p>There are several ways to extract a portion of a string that is contained in a variable. It can be done either using the indices of the string or using pattern matching to remove parts of the string. Let’s see one by one with examples.</p>

<p>When we are using the indices of a string we can use two ways.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">myVariable</span>:index<span class="k">}</span>
</code></pre></div></div>

<p>Or.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">myVariable</span>:index:length<span class="k">}</span>
</code></pre></div></div>

<p>The first option generates a substring starting from the character at the position “<code class="language-plaintext highlighter-rouge">index</code>” until the end of the string. Let’s see what happens with an example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: string_index.sh</span>
 3 <span class="nv">myVariable</span><span class="o">=</span><span class="s2">"My Value"</span>
 4 <span class="nb">echo</span> <span class="s2">"Substring: </span><span class="k">${</span><span class="nv">myVariable</span>:3<span class="k">}</span><span class="s2">"</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following result.</p>

<pre><code class="language-txt">$ ./string_index.sh
Substring: Value
</code></pre>

<p>In the previous execution the script prints as output the substring “Value”. Why is that? In the following diagram we give a visualization of why this is happening.</p>

<div style="text-align:center">
    <img src="/assets/bash-in-depth/0005-Working-with-Strings/substring_with_index.png" />
</div>

<p>As you can see in the previous diagram, the operator “<code class="language-plaintext highlighter-rouge">${myVariable:3}</code>” retrieves the substring starting from the 4th character (the one that has index 3).</p>

<p>In the second form that we mentioned before (<code class="language-plaintext highlighter-rouge">${myVariable:index:length}</code>), we can use the length of the substring that we want to extract starting from the index. Let’s see an example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: string_index_length.sh</span>
 3 <span class="nv">myVariable</span><span class="o">=</span><span class="s2">"My Value"</span>
 4 <span class="nb">echo</span> <span class="s2">"Substring: </span><span class="k">${</span><span class="nv">myVariable</span>:3:3<span class="k">}</span><span class="s2">"</span>
</code></pre></div></div>

<p>When you execute the previous script you will have the following result.</p>

<pre><code class="language-txt">$ ./string_index_length.sh
Substring: Val
</code></pre>

<p>Same as with the previous example we include the following diagram to give a more visual explanation of what is happening.</p>

<div style="text-align:center">
    <img src="/assets/bash-in-depth/0005-Working-with-Strings/substring_with_index_and_length.png" />
</div>

<p>In this case it starts as with the previous example, selecting the beginning of the string from the fourth character (character with index 3) and will take a length of 3 characters starting from the character “<code class="language-plaintext highlighter-rouge">V</code>” included. Resulting in the substring “<code class="language-plaintext highlighter-rouge">Val</code>”.</p>

<p>Now that we have already learnt how to extract substring from a string variable with index and length, it’s time to explore and learn about extracting substring by removing a pattern that we don’t want to have in the substring.</p>

<h2 id="remove-some-parts-of-a-string">Remove some parts of a string</h2>

<p>In Bash you can use some string operators to remove a part of a string that matches a given pattern.</p>

<p>There are <strong>four different ways</strong> to remove patterns to generate a substring depending on if we want to search for the longest (or shortest) pattern and if we want to start from the beginning of the string (or from the end). Let’s explore each one of them!</p>

<h3 id="remove-shortest-substring-starting-from-the-front">Remove shortest substring starting from the front</h3>

<p>The first way is removing the <strong>shortest</strong> substring that matches a pattern <strong>starting from the front</strong> of the string. For that we need to use the following syntax.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">myVariable</span><span class="p">#substring</span><span class="k">}</span>
</code></pre></div></div>

<p>In the following diagram you will see that Bash will search for the shortest substring that matches the pattern provided (from the beginning of the string) and will generate a substring without the part that matches the pattern to be removed.</p>

<div style="text-align:center">
    <img src="/assets/bash-in-depth/0005-Working-with-Strings/remove_shortest_substring_starting_from_the_front.png" />
</div>

<h3 id="remove-longest-substring-starting-from-the-front">Remove longest substring starting from the front</h3>

<p>The second way is removing the <strong>longest</strong> substring that matches a pattern <strong>starting from the front</strong> of the string. For that we need to use the following syntax.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">myVariable</span><span class="p">##substring</span><span class="k">}</span>
</code></pre></div></div>

<p>In the following diagram you will see that Bash will search for the longest substring that matches the pattern provided (from the beginning of the string) and will generate a substring without the part that matches the pattern to be removed.</p>

<div style="text-align:center">
    <img src="/assets/bash-in-depth/0005-Working-with-Strings/remove_longest_substring_starting_from_the_front.png" />
</div>

<p>Please notice in the previous diagram that between the red letters there are two different <code class="language-plaintext highlighter-rouge">K</code> characters. As we are using the operator to remove the <strong>longest</strong> sequence of characters that matches the given pattern it will remove the longest sequence of characters.</p>

<h3 id="remove-shortest-substring-starting-from-the-back">Remove shortest substring starting from the back</h3>
<p>The third way is removing the <strong>shortest</strong> substring that matches a pattern <strong>starting from the back</strong> of the string. For that we need to use the following syntax.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">string</span><span class="p">%substring</span><span class="k">}</span>
</code></pre></div></div>

<p>In the following diagram you will see that Bash will search for the shortest substring that matches the pattern provided (from the back of the string) and will generate a substring without the part that matches the pattern to be removed.</p>

<div style="text-align:center">
    <img src="/assets/bash-in-depth/0005-Working-with-Strings/remove_shortest_substring_starting_from_the_back.png" />
</div>

<h3 id="remove-longest-substring-starting-from-the-back">Remove longest substring starting from the back</h3>
<p>Last, but not least, is removing the <strong>longest</strong> substring that matches a pattern <strong>starting from the back</strong> of the string. For that we need to use the following syntax.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">string</span><span class="p">%%substring</span><span class="k">}</span>
</code></pre></div></div>

<p>In the following diagram you will see that Bash will search for the longest substring that matches the pattern provided (from the back of the string) and will generate a substring without the part that matches the pattern to be removed.</p>

<div style="text-align:center">
    <img src="/assets/bash-in-depth/0005-Working-with-Strings/remove_longest_substring_starting_from_the_back.png" />
</div>

<h3 id="example">Example</h3>
<p>In the following script we put together an example of every way we talked about in this section.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: remove_substring_examples.sh</span>
 3 <span class="nv">myVariable</span><span class="o">=</span>AbCdEfGhIjKlMnOpQrSKtUvWxYz
 4 <span class="c"># Remove shortest substring starting from the front</span>
 5 <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">{myVariable#A*K}  =&gt; </span><span class="k">${</span><span class="nv">myVariable</span><span class="p">#A*K</span><span class="k">}</span><span class="s2">"</span>
 6 <span class="c"># Remove longest substring starting from the front</span>
 7 <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">{myVariable##A*K} =&gt; </span><span class="k">${</span><span class="nv">myVariable</span><span class="p">##A*K</span><span class="k">}</span><span class="s2">"</span>
 8 <span class="c"># Remove shortest substring starting from the back</span>
 9 <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">{myVariable%K*z}  =&gt; </span><span class="k">${</span><span class="nv">myVariable</span><span class="p">%K*z</span><span class="k">}</span><span class="s2">"</span>
10 <span class="c"># Remove longest substring starting from the back</span>
11 <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">{myVariable%%K*z} =&gt; </span><span class="k">${</span><span class="nv">myVariable</span><span class="p">%%K*z</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following output.</p>

<pre><code class="language-txt">$ ./remove_substring_examples.sh
${myVariable#A*K}  =&gt; lMnOpQrSKtUvWxYz
${myVariable##A*K} =&gt; tUvWxYz
${myVariable%K*z}  =&gt; AbCdEfGhIjKlMnOpQrS
${myVariable%%K*z} =&gt; AbCdEfGhIj
</code></pre>

<p>Now that we are done learning how to get substrings we are going to change the topic and dive into substring replacement. Let’s go!</p>

<h2 id="substring-replacement">Substring Replacement</h2>
<p>Substring replacement in Bash is a powerful feature that allows you to find and replace parts of a string (a sequence of characters) with another string. It’s like doing a search-and-replace operation but within a text stored in a variable.</p>

<p>There are two ways to do a substring replacement in Bash. The first one is to replace only the first match and the second one is replacing all the matches.</p>

<h3 id="replace-the-first-match">Replace the first match</h3>
<p>To replace the <strong>first match</strong> of the pattern provided we need to use the following syntax.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">string</span><span class="p">/pattern/replacement</span><span class="k">}</span>
</code></pre></div></div>

<p>In the following diagram you will see that Bash will search for the longest substring that matches the pattern provided (from the front of the string) and will generate a substring with “<code class="language-plaintext highlighter-rouge">pattern</code>” replaced by “<code class="language-plaintext highlighter-rouge">replacement</code>”.</p>

<div style="text-align:center">
    <img src="/assets/bash-in-depth/0005-Working-with-Strings/replace_first_instance.png" />
</div>

<h3 id="replace-all-matches">Replace all matches</h3>
<p>To replace <strong>all the matches</strong> of the patterns provided we need to use the following syntax.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">string</span><span class="p">//pattern/replacement</span><span class="k">}</span>
</code></pre></div></div>

<p>In the following diagram you will see that Bash will search for the longest substring that matches the pattern provided (from the front of the string) and will generate a substring with “<code class="language-plaintext highlighter-rouge">pattern</code>” replaced by “<code class="language-plaintext highlighter-rouge">replacement</code>” in all instances of the match.</p>

<div style="text-align:center">
    <img src="/assets/bash-in-depth/0005-Working-with-Strings/replace_all_instances.png" />
</div>

<h3 id="another-example">Another Example</h3>

<p>In the following script you will see a couple of examples for each type of replacement.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: substring_replacement.sh</span>
 3 <span class="nv">myVariable</span><span class="o">=</span>AbCdEfGhIjKlMnOpQrSKtUvWxYz
 4 <span class="c"># Replace the first instance</span>
 5 <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">{myVariable/A*K/XXXX}  =&gt; </span><span class="k">${</span><span class="nv">myVariable</span><span class="p">/A*K/XXXX</span><span class="k">}</span><span class="s2">"</span>
 6 <span class="c"># Replace the first instance</span>
 7 <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">{myVariable/K*z/XXXX}  =&gt; </span><span class="k">${</span><span class="nv">myVariable</span><span class="p">/K*z/XXXX</span><span class="k">}</span><span class="s2">"</span>
 8 <span class="c"># Replace all instances</span>
 9 <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">{myVariable//A*K/XXXX} =&gt; </span><span class="k">${</span><span class="nv">myVariable</span><span class="p">//A*K/XXXX</span><span class="k">}</span><span class="s2">"</span>
10 <span class="c"># Replace all instances</span>
11 <span class="nb">echo</span> <span class="s2">"</span><span class="se">\$</span><span class="s2">{myVariable//K/XXXX}   =&gt; </span><span class="k">${</span><span class="nv">myVariable</span><span class="p">//K/XXXX</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following result.</p>

<pre><code class="language-txt">$ ./substring_replacement.sh
${myVariable/A*K/XXXX}  =&gt; XXXXtUvWxYz
${myVariable/K*z/XXXX}  =&gt; AbCdEfGhIjXXXX
${myVariable//A*K/XXXX} =&gt; XXXXtUvWxYz
${myVariable//K/XXXX}   =&gt; AbCdEfGhIjXXXXlMnOpQrSXXXXtUvWxYz
</code></pre>

<p>Now that we are done with string replacement we are going to change the topic again. In the next section we will learn how to convert a given string to uppercase or lower case.</p>

<h2 id="uppercase--lowercase">Uppercase / Lowercase</h2>
<p>Bash provides you with a couple of operators to allow you to convert strings that contain alphabetic characters to uppercase (<code class="language-plaintext highlighter-rouge">A</code>, <code class="language-plaintext highlighter-rouge">B</code>, <code class="language-plaintext highlighter-rouge">C</code>, <code class="language-plaintext highlighter-rouge">D</code>…) or lowercase (<code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, <code class="language-plaintext highlighter-rouge">c</code>, <code class="language-plaintext highlighter-rouge">d</code>…).</p>

<p>To be able to convert your string to uppercase you need to use the following operator.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">myStringVariable</span><span class="p">^^</span><span class="k">}</span>
</code></pre></div></div>

<p>You can think of this operator as a way to tell Bash to make the alphabetic characters “<em>bigger</em>”. Being the “<code class="language-plaintext highlighter-rouge">^^</code>” operator, the one saying something like “<em>Make it bigger</em>” with those two arrows pointing up.</p>

<p>In a similar way, for you to be able to convert your string to lowercase you need to use the following operator.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">${</span><span class="nv">myStringVariable</span><span class="p">,,</span><span class="k">}</span>
</code></pre></div></div>

<p>In this case the two commas are telling Bash to make the alphabetic characters “<em>smaller</em>”. Being the “<code class="language-plaintext highlighter-rouge">,,</code>” operator, the one saying something like “<em>Make it smaller</em>” with those commas pointing down.</p>

<p>In the following example you will see how both operators work.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: string_upper_lower.sh</span>
 3 <span class="nv">myStringVariable</span><span class="o">=</span><span class="s2">"This is the message that I want to test"</span>
 4 <span class="c"># Original String</span>
 5 <span class="nb">echo</span> <span class="s2">"Original : </span><span class="nv">$myStringVariable</span><span class="s2">"</span>
 6 <span class="c"># UPPERCASE STRING</span>
 7 <span class="nb">echo</span> <span class="s2">"UPPERCASE: </span><span class="k">${</span><span class="nv">myStringVariable</span><span class="p">^^</span><span class="k">}</span><span class="s2">"</span>
 8 <span class="c"># lowercase string</span>
 9 <span class="nb">echo</span> <span class="s2">"lowercase: </span><span class="k">${</span><span class="nv">myStringVariable</span><span class="p">,,</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following output.</p>

<pre><code class="language-txt">$ ./string_upper_lower.sh
Original : This is the message that I want to test
UPPERCASE: THIS IS THE MESSAGE THAT I WANT TO TEST
lowercase: this is the message that i want to test
</code></pre>

<p>Now that we are done with these couple of operations we are going to tackle what I consider to be one of the most important operations with strings, which is concatenation.</p>

<p>Let’s go for it! :wink:</p>

<h2 id="concatenation">Concatenation</h2>
<p>If you have tried other programming languages, the operators that you have used to concatenate strings are, most likely, the “<code class="language-plaintext highlighter-rouge">+</code>” operator and the “<code class="language-plaintext highlighter-rouge">+=</code>” operator.</p>

<p>Unfortunately the operator “<code class="language-plaintext highlighter-rouge">+</code>” is of no use for us while the operator “<code class="language-plaintext highlighter-rouge">+=</code>” does the same as in other programming languages. Out of curiosity, let’s see what happens when we try to use the “<code class="language-plaintext highlighter-rouge">+</code>” operator to concatenate two different strings. In the following script you will see the example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: string_invalid_concatenation.sh</span>
 3 <span class="nv">firstName</span><span class="o">=</span><span class="s2">"John"</span>
 4 <span class="nv">lastName</span><span class="o">=</span><span class="s2">"Doe"</span>
 5 <span class="c"># Concatenation</span>
 6 <span class="nv">fullName</span><span class="o">=</span><span class="nv">$firstName</span>+<span class="nv">$lastName</span>
 7 <span class="nb">echo</span> <span class="s2">"Concatenation: </span><span class="nv">$fullName</span><span class="s2">"</span>
</code></pre></div></div>

<p>In the previous script you see that on lines 3 and 4 there are two strings declared. Then on line 6 you see that we declare a variable that contains the (invalid) concatenation of the previous two strings. According to our logic that we saw in other programming languages the variable “<code class="language-plaintext highlighter-rouge">fullName</code>” should contain the value “<code class="language-plaintext highlighter-rouge">JohnDoe</code>”.</p>

<p>When you run the previous script you will see that the reality is different.</p>

<pre><code class="language-txt">$ ./string_invalid_concatenation.sh
Concatenation: John+Doe
</code></pre>

<p>What is happening here is that Bash takes the “<code class="language-plaintext highlighter-rouge">+</code>” operator as part of the string and attaches it to the string itself. It’s because of this that the “<code class="language-plaintext highlighter-rouge">+</code>” operator is of no use to us. There are, however, more ways to attach strings together.</p>

<p>In Bash there are (at least) 3 different ways to concatenate strings. We will see how each one of them works and will provide some examples to illustrate them.</p>

<p>The first way to concatenate strings is by using <strong>variable assignment</strong>. With this way you use string interpolation to embed one or more strings into a new string that will be assigned to a variable. Let’s see how it works with the following example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: string_variable_assignment_concat.sh</span>
 3 <span class="nv">firstName</span><span class="o">=</span><span class="s2">"John"</span>
 4 <span class="nv">lastName</span><span class="o">=</span><span class="s2">"Doe"</span>
 5 <span class="nv">fullName</span><span class="o">=</span><span class="s2">"</span><span class="nv">$firstName$lastName</span><span class="s2">"</span>
 6 <span class="nb">echo</span> <span class="s2">"Concatenation: </span><span class="nv">$fullName</span><span class="s2">"</span>
</code></pre></div></div>

<p>In lines 3 and 4 of the previous script you see that two string variables have been declared, same as with the previous example. Now look at line 5. In this line we create a new variable named “<code class="language-plaintext highlighter-rouge">fullName</code>” whose value is a string that references the previous two variables declared.</p>

<p>Now, if you run the previous script you will get the following output.</p>

<pre><code class="language-txt">$ ./string_variable_assignment_concat.sh
Concatenation: JohnDoe
</code></pre>

<p>Now you can see that the concatenation works as intended. This way of concatenating strings allows you to mix variables and literal strings.</p>

<p>The second way to concatenate strings is by using the <strong>“<code class="language-plaintext highlighter-rouge">+=</code>” operator</strong>. What this operator does is to concatenate the string provided at the right of the operator to the string variable that is at the left of the operator.</p>

<p>Let’s see how it works with an example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: string_op_concat.sh</span>
 3 <span class="c"># Declaration of string variable</span>
 4 <span class="nv">myStringVariable</span><span class="o">=</span><span class="s2">"First value. "</span>
 5 <span class="c"># Appending a second value</span>
 6 myStringVariable+<span class="o">=</span><span class="s2">"Second value. "</span>
 7 <span class="c"># Appending a third value</span>
 8 myStringVariable+<span class="o">=</span><span class="s2">"Third value. "</span>
 9 <span class="c"># Result</span>
10 <span class="nb">echo</span> <span class="s2">"RESULT: </span><span class="nv">$myStringVariable</span><span class="s2">"</span>
</code></pre></div></div>

<p>In the previous script you will see that on line 4 we do declare the string variable <code class="language-plaintext highlighter-rouge">myStringVariable</code>  with “First value. “ as content. Then on lines 6 and 8 we use the operator “<code class="language-plaintext highlighter-rouge">+=</code>” to append other strings to it. Then on line 10 we do print the full content of the variable. When you run the previous script you have the following result.</p>

<pre><code class="language-txt">$ ./string_op_concat.sh
RESULT: First value. Second value. Third value.
</code></pre>

<p>The third and last way that we will show in this book is a combination of the “<code class="language-plaintext highlighter-rouge">printf</code>” command, that we learnt in a previous chapter, and something called “<em>Command Substitution</em>”<a id="footnote-1-ref" href="#footnote-1" style="font-size:x-small">[1]</a> that we will tackle in the chapter dedicated to execution of commands. Let’s see an example!</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: string_printf_concat.sh</span>
 3 <span class="c"># Declare First Name</span>
 4 <span class="nv">firstName</span><span class="o">=</span><span class="s2">"John"</span>
 5 <span class="c"># Declare Last Name</span>
 6 <span class="nv">lastName</span><span class="o">=</span><span class="s2">"Doe"</span>
 7 <span class="c"># Declare Age</span>
 8 <span class="nv">age</span><span class="o">=</span>26
 9 <span class="c"># Declare summary using printf command and command substitution</span>
10 <span class="nv">summary</span><span class="o">=</span><span class="si">$(</span><span class="nb">printf</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">Full name -&gt; %s %s</span><span class="se">\n</span><span class="s2">Age -&gt; %d"</span> <span class="nv">$firstName</span> <span class="nv">$lastName</span> <span class="nv">$age</span><span class="si">)</span>
11 <span class="c"># Print Summary</span>
12 <span class="nb">echo</span> <span class="s2">"Summary: </span><span class="nv">$summary</span><span class="s2">"</span>
</code></pre></div></div>

<p>In the previous script we declare 3 variables on lines 4, 6 and 8. Then on line 10 we use command substitution with the “<code class="language-plaintext highlighter-rouge">printf</code>” built-in command to generate a string with the format that we want and store it in a variable called “<code class="language-plaintext highlighter-rouge">summary</code>” whose content we print on line 12.</p>

<p>When you run the previous script it generates the following output.</p>

<pre><code class="language-txt">$ ./string_printf_concat.sh
Summary:
Full name -&gt; John Doe
Age -&gt; 26
</code></pre>

<h2 id="summary">Summary</h2>
<p>In this chapter we have learnt everything you need to know about strings which is most likely one of the most important data types you need to be aware of.</p>

<p>We learnt how to declare a string and how to get some information from it (like its length).</p>

<p>Then we learnt to get substrings using both indices and patterns and we moved to do replacements within strings.</p>

<p>After learning how to make the strings uppercase and lowercase we moved to concatenation of strings where we learnt different ways to concatenate strings.</p>

<h2 id="references">References</h2>
<ol>
  <li><a href="https://tldp.org/LDP/abs/html/string-manipulation.html">https://tldp.org/LDP/abs/html/string-manipulation.html</a></li>
  <li><a href="https://www.learnshell.org/en/Basic_String_Operations">https://www.learnshell.org/en/Basic_String_Operations</a></li>
  <li><a href="https://earthly.dev/blog/bash-string/">https://earthly.dev/blog/bash-string/</a></li>
  <li><a href="https://www.thegeekstuff.com/2010/07/bash-string-manipulation/">https://www.thegeekstuff.com/2010/07/bash-string-manipulation/</a></li>
</ol>

<hr style="width:100%;text-align:center;margin-left:0;margin-bottom:10px;" />

<p id="footnote-1" style="font-size:10pt">
1. A short summary for command substitution is that we can use the syntax “<span style="font-style:'Courier New'">$(...)</span>” to execute commands that we put between the parentheses and store the result of the command in a variable (if you feel like). We will learn more about command substitution in a later chapter.<a href="#footnote-1-ref">&#8617;</a>
</p>


</div>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The Engineering Corner</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The Engineering Corner</li><li><a class="u-email" href="mailto:the.engineering.corner.314@gmail.com">the.engineering.corner.314@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I hope you will have fun and learn new things reading this blog.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
