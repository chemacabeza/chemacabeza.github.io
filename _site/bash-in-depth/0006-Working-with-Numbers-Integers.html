<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Chapter 6: Working with Numbers - Integers | The Engineering Corner</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Chapter 6: Working with Numbers - Integers" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I hope you will have fun and learn new things reading this blog." />
<meta property="og:description" content="I hope you will have fun and learn new things reading this blog." />
<link rel="canonical" href="http://localhost:4000/bash-in-depth/0006-Working-with-Numbers-Integers.html" />
<meta property="og:url" content="http://localhost:4000/bash-in-depth/0006-Working-with-Numbers-Integers.html" />
<meta property="og:site_name" content="The Engineering Corner" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-10-04T22:18:38+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Chapter 6: Working with Numbers - Integers" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-10-04T22:18:38+02:00","datePublished":"2024-10-04T22:18:38+02:00","description":"I hope you will have fun and learn new things reading this blog.","headline":"Chapter 6: Working with Numbers - Integers","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/bash-in-depth/0006-Working-with-Numbers-Integers.html"},"url":"http://localhost:4000/bash-in-depth/0006-Working-with-Numbers-Integers.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="The Engineering Corner" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">The Engineering Corner</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
						<a class="page-link" href="/about/">About</a>
            <a class="page-link" href="/bash-in-depth/">Bash In Depth</a>
				</div>
      </nav></div>
</header>

<!--header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" href="/">The Engineering Corner</a>
    <nav class="site-nav">
      <label for="nav-trigger">
        <svg aria-hidden="true" class="icon-menu">
          <use xlink:href="#icon-menu"></use>
        </svg>
      </label>
      <div class="trigger">
          
          <a href="/bash-in-depth/">Bash In Depth</a>
      </div>
    </nav>
  </div>
</header-->

<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Chapter 6: Working with Numbers - Integers | The Engineering Corner</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Chapter 6: Working with Numbers - Integers" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I hope you will have fun and learn new things reading this blog." />
<meta property="og:description" content="I hope you will have fun and learn new things reading this blog." />
<link rel="canonical" href="http://localhost:4000/bash-in-depth/0006-Working-with-Numbers-Integers.html" />
<meta property="og:url" content="http://localhost:4000/bash-in-depth/0006-Working-with-Numbers-Integers.html" />
<meta property="og:site_name" content="The Engineering Corner" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-10-04T22:18:38+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Chapter 6: Working with Numbers - Integers" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-10-04T22:18:38+02:00","datePublished":"2024-10-04T22:18:38+02:00","description":"I hope you will have fun and learn new things reading this blog.","headline":"Chapter 6: Working with Numbers - Integers","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/bash-in-depth/0006-Working-with-Numbers-Integers.html"},"url":"http://localhost:4000/bash-in-depth/0006-Working-with-Numbers-Integers.html"}</script>
<!-- End Jekyll SEO tag -->

<div class="chapter-content">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

<h1 id="chapter-6-working-with-numbers---integers">Chapter 6: Working with Numbers - Integers</h1>

<h2 id="index">Index</h2>
<ul>
  <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#working-with-the-expr-command-line">Working with the “<code class="language-plaintext highlighter-rouge">expr</code>” command line</a>
    <ul>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#addition">Addition</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#substraction">Substraction</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#division">Division</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#multiplication">Multiplication</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#modulo">Modulo</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#comparison">Comparison</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#boolean">Boolean</a></li>
    </ul>
  </li>
  <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#working-with-the-letdeclare-builtin-commands">Working with the “<code class="language-plaintext highlighter-rouge">let</code>/<code class="language-plaintext highlighter-rouge">declare</code>” builtin commands</a>
    <ul>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#declare-command">“<code class="language-plaintext highlighter-rouge">declare</code>” command</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#let-command">“<code class="language-plaintext highlighter-rouge">let</code>” command</a></li>
    </ul>
  </li>
  <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#other-integer-numbers">Other Integer Numbers</a>
    <ul>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#octal-numbers3">Octal numbers</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#hexadecimal-numbers4">Hexadecimal numbers</a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#other-bases">Other bases</a></li>
    </ul>
  </li>
  <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#working-with-bash-arithmetic-expansion-and-compound-command">Working with Bash Arithmetic Expansion and Compound Command</a>
    <ul>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#bash-arithmetic-expansion-">Bash Arithmetic Expansion <code class="language-plaintext highlighter-rouge">$((...))</code></a></li>
      <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#compound-command-">Compound Command <code class="language-plaintext highlighter-rouge">((...))</code></a></li>
    </ul>
  </li>
  <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#operators-order">Operators Order</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#summary">Summary</a></li>
  <li><a href="http://localhost:4000//bash-in-depth/0006-Working-with-Numbers-Integers.html#references">References</a></li>
</ul>

<hr style="width:100%;text-align:center;margin-left:0;margin-bottom:10px" />

<p>Bash, by default, primarily operates on integer numerical values. It can perform various arithmetic operations like addition, subtraction, multiplication, and division with integer numbers. These operations are particularly useful for tasks like counting, indexing, and basic mathematical calculations in scripting and automation. Bash’s support for integer arithmetic makes it a handy tool for many system-level operations and scripting tasks.</p>

<p>However, Bash does not provide native support for floating-point arithmetic by default. Floating-point numbers include decimal fractions and are used to represent real numbers with high precision. These numbers are essential in scientific computing, financial calculations, and various other domains where precise numerical representations are required. Bash’s omission of native support for floating-point arithmetic is largely because it is designed as a lightweight, text-based shell scripting language, and the inclusion of floating-point arithmetic would introduce complexity and potentially slow down the execution of scripts.</p>

<p>To perform floating-point arithmetic in Bash, one often relies on external tools like the “bc” command-line calculator or other scripting languages like Python<a id="footnote-1-ref" href="#footnote-1" style="font-size:x-small">[1]</a> or Perl<a id="footnote-1-ref" href="#footnote-1" style="font-size:x-small">[2]</a>, which provides native support for floating-point operations. These tools offer greater precision and flexibility when working with real numbers, but they come at the cost of additional complexity compared to Bash’s integer arithmetic operations. Bash’s focus on simplicity and efficiency in handling text and system-level operations remains a significant reason why it doesn’t natively support floating-point arithmetic.</p>

<p>In this chapter we will focus specifically on working with integer numbers.</p>

<p>In Bash there are 3 different ways to work with integer numbers.</p>
<ul>
  <li>Using the “<code class="language-plaintext highlighter-rouge">expr</code>” command line</li>
  <li>Using the “<code class="language-plaintext highlighter-rouge">let</code>/<code class="language-plaintext highlighter-rouge">declare</code>” builtin commands</li>
  <li>Using the Bash Arithmetic Expansion <code class="language-plaintext highlighter-rouge">((...))</code></li>
</ul>

<p>In the following sections we will explore each one of them.</p>

<h2 id="working-with-the-expr-command-line">Working with the “<code class="language-plaintext highlighter-rouge">expr</code>” command line</h2>

<p>This is the legacy way to work with arithmetic. It works with <strong>ONLY</strong> Integers.</p>

<p>First of all, it is worth mentioning that “<code class="language-plaintext highlighter-rouge">expr</code>” is not a builtin command within Bash. It’s a binary apart. This means that for every execution, a child process will be created, making the whole execution significantly slower.</p>

<p>This book is not intended to give you a full detailed tutorial on “<code class="language-plaintext highlighter-rouge">expr</code>”. The main idea is to explain how it works with a few examples, leaving the full content out of here.</p>

<p>“<code class="language-plaintext highlighter-rouge">expr</code>” utility is in charge of evaluating an expression and writing the result on standard output.</p>

<h3 id="addition">Addition</h3>
<p>“<code class="language-plaintext highlighter-rouge">expr</code>” supports the addition operator “<code class="language-plaintext highlighter-rouge">+</code>”. You need to call “<code class="language-plaintext highlighter-rouge">expr</code>” as follows.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">expr</span> &lt;integer/expression_1&gt; + &lt;integer/expression_2&gt; <span class="o">[</span>+ ...]
</code></pre></div></div>

<p>Let’s see how it works with an example.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: expr_addition.sh</span>
 3 <span class="nv">NUM1</span><span class="o">=</span>3
 4 <span class="nv">NUM2</span><span class="o">=</span>4
 5 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Result of </span><span class="nv">$NUM1</span><span class="s2"> + </span><span class="nv">$NUM2</span><span class="s2"> is "</span>
 6 <span class="nb">expr</span> <span class="nv">$NUM1</span> + <span class="nv">$NUM2</span>
</code></pre></div></div>

<p>In the previous script you can see that we declared two integer variables on lines 3 and 4. The you see that in line number 6 we use the operator <code class="language-plaintext highlighter-rouge">expr</code> to perform the calculation.</p>

<p>When you run the script you will have the following output in the terminal.</p>

<pre><code class="language-txt">$ ./expr_addition.sh
Result of 3 + 4 is 7
</code></pre>

<h3 id="substraction">Substraction</h3>
<p>“<code class="language-plaintext highlighter-rouge">expr</code>” supports the subtraction operator “-”. You need to call “expr” as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">expr</span> &lt;integer/expression_1&gt; - &lt;integer/expression_2&gt; <span class="o">[</span>- ...]
</code></pre></div></div>

<p>Let’s see the following example script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: expr_substraction.sh</span>
 3 <span class="nv">NUM1</span><span class="o">=</span>3
 4 <span class="nv">NUM2</span><span class="o">=</span>4
 5 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Result of </span><span class="nv">$NUM1</span><span class="s2"> - </span><span class="nv">$NUM2</span><span class="s2"> is "</span>
 6 <span class="nb">expr</span> <span class="nv">$NUM1</span> - <span class="nv">$NUM2</span>
</code></pre></div></div>

<p>When you run the previous script you will get the following output.</p>

<pre><code class="language-txt">$ ./subtraction.sh
Result of 3 - 4 is -1
</code></pre>

<h3 id="division">Division</h3>
<p>“<code class="language-plaintext highlighter-rouge">expr</code>” supports the division operator “<code class="language-plaintext highlighter-rouge">/</code>”. You need to call “<code class="language-plaintext highlighter-rouge">expr</code>” as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">expr</span> &lt;integer/expression_1&gt; / &lt;integer/expression_2&gt; <span class="o">[</span>/ ...]
</code></pre></div></div>

<p>Let’s see how it works with the following example script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: expr_division.sh</span>
 3 <span class="nv">NUM1</span><span class="o">=</span>9
 4 <span class="nv">NUM2</span><span class="o">=</span>3
 5 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Result of </span><span class="nv">$NUM1</span><span class="s2"> / </span><span class="nv">$NUM2</span><span class="s2"> is "</span>
 6 <span class="nb">expr</span> <span class="nv">$NUM1</span> / <span class="nv">$NUM2</span>
</code></pre></div></div>

<p>When you run the previous script you will get the following output.</p>

<pre><code class="language-txt">$ ./expr_division.sh
Result of 9 / 3 is 3
</code></pre>

<p>In the case of using operands whose result is a decimal number, <strong>only the integer part will be given as result</strong>. You can see the result by modifying the value of the “<code class="language-plaintext highlighter-rouge">NUM2</code>” variable in the previous script (“<code class="language-plaintext highlighter-rouge">expr_division.sh</code>”) to 2. The result will be <code class="language-plaintext highlighter-rouge">4.5</code> but the script will print only <code class="language-plaintext highlighter-rouge">4</code>.</p>

<h3 id="multiplication">Multiplication</h3>
<p>“<code class="language-plaintext highlighter-rouge">expr</code>” supports the multiplication operator “<code class="language-plaintext highlighter-rouge">*</code>”. You need to call “<code class="language-plaintext highlighter-rouge">expr</code>” as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">expr</span> &lt;integer/expression_1&gt; <span class="se">\*</span> &lt;integer/expression_2&gt; <span class="o">[</span><span class="se">\*</span> ...]
</code></pre></div></div>

<p>Pay attention to the detail of “<em>escaping</em>” the “<code class="language-plaintext highlighter-rouge">*</code>” character. We do this to avoid bash interpreting such a character as a globbing character so that expansion does not happen. With the escaping character we are forcing a literal interpretation of the character “<code class="language-plaintext highlighter-rouge">*</code>” without expansion.</p>

<p>Let’s see how it works with the following example script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: expr_multiplication.sh</span>
 3 <span class="nv">NUM1</span><span class="o">=</span>9
 4 <span class="nv">NUM2</span><span class="o">=</span>3
 5 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Result of </span><span class="nv">$NUM1</span><span class="s2"> * </span><span class="nv">$NUM2</span><span class="s2"> is "</span>
 6 <span class="nb">expr</span> <span class="nv">$NUM1</span> <span class="se">\*</span> <span class="nv">$NUM2</span>
</code></pre></div></div>

<p>Whe you execute the previous script you will get the following as result.</p>

<pre><code class="language-txt">$ ./expr_multiplication.sh
Result of 9 * 3 is 27
</code></pre>

<h3 id="modulo">Modulo</h3>
<p>“<code class="language-plaintext highlighter-rouge">expr</code>” also supports the modulo operator “<code class="language-plaintext highlighter-rouge">%</code>”. You need to call “<code class="language-plaintext highlighter-rouge">expr</code>” as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">expr</span> &lt;integer/expression_1&gt; % &lt;integer/expression_2&gt; <span class="o">[</span>% ...]
</code></pre></div></div>

<p>Let’s see how it works with the following example script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: expr_modulo.sh</span>
 3 <span class="nv">NUM1</span><span class="o">=</span>8
 4 <span class="nv">NUM2</span><span class="o">=</span>3
 5 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Result of </span><span class="nv">$NUM1</span><span class="s2"> % </span><span class="nv">$NUM2</span><span class="s2"> is "</span>
 6 <span class="nb">expr</span> <span class="nv">$NUM1</span> % <span class="nv">$NUM2</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following result.</p>

<pre><code class="language-txt">$ ./expr_modulo.sh
Result of 8 % 3 is 2
</code></pre>

<h3 id="comparison">Comparison</h3>

<p>“<code class="language-plaintext highlighter-rouge">expr</code>” supports the comparison operators (“<code class="language-plaintext highlighter-rouge">=</code>”, “<code class="language-plaintext highlighter-rouge">&gt;</code>”, “<code class="language-plaintext highlighter-rouge">&gt;=</code>”, “<code class="language-plaintext highlighter-rouge">&lt;</code>”, “<code class="language-plaintext highlighter-rouge">&lt;=</code>”, “<code class="language-plaintext highlighter-rouge">!=</code>”, will call them “<code class="language-plaintext highlighter-rouge">&lt;op&gt;</code>”). You need to call “<code class="language-plaintext highlighter-rouge">expr</code>” as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">expr</span> &lt;expression_1&gt; &lt;op&gt; &lt;expression_2&gt; <span class="o">[</span>&lt;op&gt; ...]
</code></pre></div></div>

<p>The comparison operators give as result either “<code class="language-plaintext highlighter-rouge">1</code>“ (if the result of the comparison was <code class="language-plaintext highlighter-rouge">true</code>) or “<code class="language-plaintext highlighter-rouge">0</code>” (if the result of the comparison was <code class="language-plaintext highlighter-rouge">false</code>).</p>

<p>Same as with the multiplication character, with the character “<code class="language-plaintext highlighter-rouge">&lt;</code>” we have to escape it to avoid Bash confusing it with a redirection character (which we will speak about later in another chapter).</p>

<p>Let’s see how it works with the following example script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: expr_comparison.sh</span>
 3 <span class="nv">NUM1</span><span class="o">=</span>8
 4 <span class="nv">NUM2</span><span class="o">=</span>3
 5 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Result of </span><span class="nv">$NUM1</span><span class="s2"> &lt; </span><span class="nv">$NUM2</span><span class="s2"> is "</span>
 6 <span class="nb">expr</span> <span class="nv">$NUM1</span> <span class="se">\&lt;</span> <span class="nv">$NUM2</span>
</code></pre></div></div>

<p>When you run the previous script you will get the following result in the terminal.</p>

<pre><code class="language-txt">$ ./comparison.sh
Result of 8 &lt; 3 is 0
</code></pre>

<p>The result of the script is <code class="language-plaintext highlighter-rouge">0</code>, which means that the number <code class="language-plaintext highlighter-rouge">8</code> is not smaller than the number <code class="language-plaintext highlighter-rouge">3</code>.</p>

<h3 id="boolean">Boolean</h3>

<p>“<code class="language-plaintext highlighter-rouge">expr</code>” has support for the boolean operands <strong>AND</strong> (“<code class="language-plaintext highlighter-rouge">&amp;</code>” character) and <strong>OR</strong> (“<code class="language-plaintext highlighter-rouge">|</code>” character) that we can use to compose logical operations.</p>

<p>These boolean operands allow you combine the comparison expressions that we saw in the previous section.</p>

<p>Pay attention that the operands AND and OR, when passed to the “<code class="language-plaintext highlighter-rouge">expr</code>” command, need to be between double quotes.</p>

<p>Let’s see how it works with the following script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: expr_boolean.sh</span>
 3 <span class="nv">NUM1</span><span class="o">=</span>8
 4 <span class="nv">NUM2</span><span class="o">=</span>3
 5 <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Result of </span><span class="nv">$NUM1</span><span class="s2"> &gt; </span><span class="nv">$NUM2</span><span class="s2"> &amp; </span><span class="nv">$NUM2</span><span class="s2"> &gt;= 3 is "</span>
 6 <span class="nb">expr</span>  <span class="nv">$NUM1</span> <span class="se">\&gt;</span> <span class="nv">$NUM2</span> <span class="s2">"&amp;"</span> <span class="nv">$NUM2</span> <span class="se">\&gt;</span><span class="o">=</span> 3
 7 <span class="c">#                    ^^^</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following result:</p>

<pre><code class="language-txt">$ ./expr_boolean.sh
Result of 8 &gt; 3 &amp; 3 &gt;= 3 is 1
</code></pre>

<p>As you can see in the execution of the script, the result is <code class="language-plaintext highlighter-rouge">1</code>. The result <code class="language-plaintext highlighter-rouge">1</code> means that the two comparisons resulted to be <code class="language-plaintext highlighter-rouge">true</code>.</p>

<p>If you pay attention to the line 7 of the previous script you will see that the AND operator is within double quotes.</p>

<h2 id="working-with-the-letdeclare-builtin-commands">Working with the “<code class="language-plaintext highlighter-rouge">let</code>/<code class="language-plaintext highlighter-rouge">declare</code>” builtin commands</h2>

<p>In this section we are going to take a look at how to work with Integers with two builtin commands of Bash:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">declare</code>: We already mentioned it in a previous chapter.</li>
  <li><code class="language-plaintext highlighter-rouge">let</code>: Which is new to us and we will talk about in a bit.</li>
</ul>

<h3 id="declare-command">“<code class="language-plaintext highlighter-rouge">declare</code>” command</h3>

<p>As we mentioned already, “<code class="language-plaintext highlighter-rouge">declare</code>” can be used to give to the declared variables some specific behavior (specific semantics). In our case, we are going to use the “<code class="language-plaintext highlighter-rouge">declare</code>” built-in command to declare integer numbers.</p>

<p>In our current case, we need to use the option “<code class="language-plaintext highlighter-rouge">-i</code>” to indicate the declaration of an integer variable.</p>

<p>In the following script we use the “<code class="language-plaintext highlighter-rouge">-i</code>” flag to declare a new integer variable named “<code class="language-plaintext highlighter-rouge">myIntVar</code>”.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: declare_integer.sh</span>
 3 <span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">myIntVar</span><span class="o">=</span>45
 4 <span class="nv">myIntVar</span><span class="o">=</span><span class="nv">$myIntVar</span>+1
 5 <span class="nb">echo</span> <span class="nv">$myIntVar</span>
</code></pre></div></div>

<p>When you execute the previous script you will get the following result in the terminal.</p>

<pre><code class="language-txt">$ ./declare_integer.sh
46
</code></pre>

<p>In this case the builtin command “<code class="language-plaintext highlighter-rouge">declare</code>” is specifying that the new variable “<code class="language-plaintext highlighter-rouge">myIntVar</code>” should behave as an integer number (remember that, by default, variables in Bash behave like STRINGs).</p>

<p>Something to mention is that, in the same way that “<code class="language-plaintext highlighter-rouge">declare</code>” can add specific behaviors to variables (like the previous one with integer and “<code class="language-plaintext highlighter-rouge">-i</code>”), it can remove it (setting it back to the default one) by using the “<em>negated</em>” option “<code class="language-plaintext highlighter-rouge">+i</code>”.</p>

<p>Let’s see it how it works with an example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: declare_integer_negated.sh</span>
 3 <span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">myIntVar</span><span class="o">=</span>45
 4 <span class="nv">myIntVar</span><span class="o">=</span><span class="nv">$myIntVar</span>+1
 5 <span class="nb">echo</span> <span class="nv">$myIntVar</span> <span class="c"># 46</span>
 6 <span class="nb">declare</span> +i myIntVar
 7 <span class="nv">myIntVar</span><span class="o">=</span><span class="nv">$myIntVar</span>+1
 8 <span class="nb">echo</span> <span class="nv">$myIntVar</span> <span class="c"># 46+1</span>
</code></pre></div></div>

<p>When you run the previous script you will see the following in the terminal.</p>

<pre><code class="language-txt">$ ./declare_integer_negated.sh
46
46+1
</code></pre>

<p>So… What is happening in the script? On line 3 we are declaring a variable named “<code class="language-plaintext highlighter-rouge">myIntVar</code>” that has a semantic of an integer (it is because of the flag <code class="language-plaintext highlighter-rouge">-i</code> in the <code class="language-plaintext highlighter-rouge">declare</code> command).</p>

<p>In line 4 the variable “<code class="language-plaintext highlighter-rouge">myIntVar</code>” is incremented by one. As it has “<em>integer semantic</em>” the operation works perfectly.</p>

<p>However, when we remove the “<em>integer semantic</em>” on line 6, the variable “<code class="language-plaintext highlighter-rouge">myintvar</code>” becomes a String. Due to this, the value printed on line 8 is “<code class="language-plaintext highlighter-rouge">46+1</code>” as now the variable has “<em>string semantic</em>”.</p>

<p>You can also invoke the command “<code class="language-plaintext highlighter-rouge">declare</code>” without any arguments. This invocation will show the attributes and values of all the variables and functions available.</p>

<h3 id="let-command">“<code class="language-plaintext highlighter-rouge">let</code>” command</h3>

<p>“<code class="language-plaintext highlighter-rouge">let</code>” is a builtin command of Bash that evaluates arithmetic expressions. Its syntax is as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">let </span>arg1 <span class="o">[</span>arg2 ...]
</code></pre></div></div>

<p>“<code class="language-plaintext highlighter-rouge">let</code>” evaluates (from left to right) each argument as a mathematical expression.</p>

<p>This builtin command supports a wide variety of operators, which are as follows:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Operator</th>
      <th style="text-align: left">Operation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">var++</code>, <code class="language-plaintext highlighter-rouge">var--</code></td>
      <td style="text-align: left">Post-increment (<code class="language-plaintext highlighter-rouge">++</code>), Post-decrement (<code class="language-plaintext highlighter-rouge">--</code>). Interpret the value of integer variable var and then add or subtract one (1) to it.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">++var</code>, <code class="language-plaintext highlighter-rouge">--var</code></td>
      <td style="text-align: left">Pre-increment (<code class="language-plaintext highlighter-rouge">++</code>), Pre-decrement (<code class="language-plaintext highlighter-rouge">--</code>). Add or subtract one (1) to the value of integer variable var, and then interpret the value.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">-expr</code>, <code class="language-plaintext highlighter-rouge">+expr</code></td>
      <td style="text-align: left">Unary minus, Unary plus. Unary minus returns the value of the expression expr it precedes, as if it had been multiplied by negative one (-1). Unary plus returns the expression expr unchanged, as if it had been multiplied by one (1).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">!</code>, <code class="language-plaintext highlighter-rouge">~</code></td>
      <td style="text-align: left">Logical negation, Bitwise negation. Logical negation returns false if its operand is true, and true if the operand is false. Bitwise negation flips the bits in the binary representation of the numeric operand.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">**</code></td>
      <td style="text-align: left">Exponentiation</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">*</code>, <code class="language-plaintext highlighter-rouge">/</code>, <code class="language-plaintext highlighter-rouge">%</code></td>
      <td style="text-align: left">Multiplication, division, remainder (modulo)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">+</code>, <code class="language-plaintext highlighter-rouge">-</code></td>
      <td style="text-align: left">Addition, subtraction.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&lt;&lt;</code>, <code class="language-plaintext highlighter-rouge">&gt;&gt;</code></td>
      <td style="text-align: left">Bitwise shift left, bitwise shift right.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&lt;=</code>, <code class="language-plaintext highlighter-rouge">&gt;=</code> ,<code class="language-plaintext highlighter-rouge">&lt;</code>, <code class="language-plaintext highlighter-rouge">&gt;</code></td>
      <td style="text-align: left">Comparison: less than or equal to, greater than or equal to, less than, greater than.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">==</code>, <code class="language-plaintext highlighter-rouge">!=</code></td>
      <td style="text-align: left">Equality, inequality. Equality returns true if its operands are equal, false otherwise. Inequality returns true if its operands are not equal, false otherwise.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&amp;</code></td>
      <td style="text-align: left">Bitwise AND. The corresponding binary digits of both operands are multiplied to produce a result. For any given digit, the resulting digit is 1 only if the corresponding digit in both operands is also 1.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">^</code></td>
      <td style="text-align: left">Bitwise XOR (eXclusive OR). A binary digit of the result is 1 if and only if the corresponding digits of the operands differ. For instance, if the first binary digit of the first operand is 1, and the second operand’s first digit is 0, the result’s first digit is 1.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">|</code></td>
      <td style="text-align: left">Bitwise OR. If either of the corresponding digits in the operands is 1, that digit in the result is also 1.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&amp;&amp;</code></td>
      <td style="text-align: left">Logical AND. Returns true if both of the operands are true.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">||</code></td>
      <td style="text-align: left">Logical OR. Returns true if either of the operands is true.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">expr1 ? expr2 : expr3</code></td>
      <td style="text-align: left">Conditional (ternary) operator. If “<code class="language-plaintext highlighter-rouge">expr1</code>” is true, return “<code class="language-plaintext highlighter-rouge">expr2</code>”. If “<code class="language-plaintext highlighter-rouge">expr1</code>” is false, return “<code class="language-plaintext highlighter-rouge">expr3</code>”.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">=</code>, <code class="language-plaintext highlighter-rouge">*=</code>, <code class="language-plaintext highlighter-rouge">/=</code>, <code class="language-plaintext highlighter-rouge">%=</code>, <code class="language-plaintext highlighter-rouge">+=</code>, <code class="language-plaintext highlighter-rouge">-=</code>, <code class="language-plaintext highlighter-rouge">&lt;&lt;=</code>, <code class="language-plaintext highlighter-rouge">&gt;&gt;=</code>, <code class="language-plaintext highlighter-rouge">&amp;=</code>, <code class="language-plaintext highlighter-rouge">^=</code>, <code class="language-plaintext highlighter-rouge">|=</code></td>
      <td style="text-align: left">Assignment. Assign the value of the expression that follows the operator, to the variable that precedes it. If an operator prefixes the equals sign, that operation is performed before assignment. For example <code class="language-plaintext highlighter-rouge">let "var += 5"</code> is equivalent to <code class="language-plaintext highlighter-rouge">let "var = var + 5"</code>. The assignment operation itself evaluates to the value assigned.</td>
    </tr>
  </tbody>
</table>

<p>Let’s see an example script where we will use several of the previous operators.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: let.sh</span>
 3 <span class="c"># Using the post-increment operator"</span>
 4 <span class="nb">let</span> <span class="s2">"myVar = 32"</span>
 5 <span class="nb">echo</span> <span class="s2">"Orignal value of myVar: </span><span class="nv">$myVar</span><span class="s2">"</span>
 6 <span class="nb">echo</span> <span class="s2">"Using post-increment operator"</span>
 7 <span class="nb">let</span> <span class="s2">"myVar++"</span>
 8 <span class="nb">echo</span> <span class="s2">"New value of myVar: </span><span class="nv">$myVar</span><span class="s2">"</span> <span class="c"># 33</span>
 9 <span class="c"># Using the shift left operator</span>
10 <span class="nb">let</span> <span class="s2">"myNumber = 16"</span>
11 <span class="nb">echo</span> <span class="s2">"Original value of myNumber: </span><span class="nv">$myNumber</span><span class="s2">"</span>
12 <span class="nb">let</span> <span class="s2">"myNumber &lt;&lt;= 1"</span>
13 <span class="nb">echo</span> <span class="s2">"New value of myNumber: </span><span class="nv">$myNumber</span><span class="s2">"</span> <span class="c"># 32</span>
</code></pre></div></div>

<p>In the previous script you see that on line 4 a variable is declared with name “<code class="language-plaintext highlighter-rouge">myVar</code>” and value 32. On line 7 you see that the post-increment operator is used, that statement increments the value of the variable by 1.</p>

<p>Then on line 10 you see that a variable is declared with name “<code class="language-plaintext highlighter-rouge">myNumber</code>” with a value of 16. On line 12, we are using the shifting left assignment operator, which will move all the bits of the number once place to the left, resulting in the number being multiplied by 2.</p>

<p>When you run the previous script you will get the following output in your terminal.</p>

<pre><code class="language-txt">$ ./let.sh
Orignal value of myVar: 32
Using post-increment operator
New value of myVar: 33
Original value of myNumber: 16
New value of myNumber: 32
</code></pre>

<h2 id="other-integer-numbers">Other Integer Numbers</h2>

<p>With the “<code class="language-plaintext highlighter-rouge">let</code>” command you have access to other types of numbers. Specifically you have access to:</p>
<ul>
  <li>Octal numbers</li>
  <li>Hexadecimal numbers</li>
  <li>Custom based numbers (whose base can be between 2 and 64)</li>
</ul>

<p>We will tackle them one by one.</p>

<h3 id="octal-numbers3">Octal numbers<a id="footnote-3-ref" href="#footnote-3" style="font-size:x-small">[3]</a></h3>

<p>An <strong>octal number</strong> is a number expressed in the base-8 numeral system, which uses digits from <code class="language-plaintext highlighter-rouge">0</code> to <code class="language-plaintext highlighter-rouge">7</code>. Each digit in an octal number represents a power of 8, just as digits in a decimal number represent powers of 10.</p>

<p>In the base-8 system:</p>
<ul>
  <li>The rightmost digit is the least significant digit (i.e., <code class="language-plaintext highlighter-rouge">8^{0}</code>)</li>
  <li>The next digit is multiplied by <code class="language-plaintext highlighter-rouge">8^{1}</code>, the next by <code class="language-plaintext highlighter-rouge">8^{2}</code>, and so on.</li>
</ul>

<p>For example the octal number <code class="language-plaintext highlighter-rouge">157</code>:</p>
<ul>
  <li>The rightmost digit is <code class="language-plaintext highlighter-rouge">7</code>, representing 7 times 8 to the <code class="language-plaintext highlighter-rouge">7 x 8^{0} = 7 x 1 = 7</code></li>
  <li>The next digit is <code class="language-plaintext highlighter-rouge">5</code>, representing <code class="language-plaintext highlighter-rouge">5 x 8^{1} = 5 x 8 = 40</code></li>
  <li>The leftmost digit is <code class="language-plaintext highlighter-rouge">1</code>, representing <code class="language-plaintext highlighter-rouge">1 x 8^{2} = 1 x 64 = 64</code></li>
</ul>

<p>Adding these values gives <code class="language-plaintext highlighter-rouge">64 + 40 + 7 = 111</code>.</p>

<p>So the octal number <code class="language-plaintext highlighter-rouge">157</code> in decimal is <code class="language-plaintext highlighter-rouge">111</code>.</p>

<p>Typically octal numbers are preceded by a zero.</p>

<h3 id="hexadecimal-numbers4">Hexadecimal numbers<a id="footnote-4-ref" href="#footnote-4" style="font-size:x-small">[4]</a></h3>

<p>A <strong>hexadecimal number</strong> is a number expressed in the base-16 numeral system, which uses sixteen symbols: the digits <code class="language-plaintext highlighter-rouge">0</code> through <code class="language-plaintext highlighter-rouge">9</code> represent values zero to nine, and the letters <code class="language-plaintext highlighter-rouge">A</code> through <code class="language-plaintext highlighter-rouge">F</code> represent values ten to fifteen.</p>

<p>Hexadecimal system:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">0</code> = 0</li>
  <li><code class="language-plaintext highlighter-rouge">1</code> = 1</li>
  <li><code class="language-plaintext highlighter-rouge">2</code> = 2</li>
  <li><code class="language-plaintext highlighter-rouge">3</code> = 3</li>
  <li><code class="language-plaintext highlighter-rouge">4</code> = 4</li>
  <li><code class="language-plaintext highlighter-rouge">5</code> = 5</li>
  <li><code class="language-plaintext highlighter-rouge">6</code> = 6</li>
  <li><code class="language-plaintext highlighter-rouge">7</code> = 7</li>
  <li><code class="language-plaintext highlighter-rouge">8</code> = 8</li>
  <li><code class="language-plaintext highlighter-rouge">9</code> = 9</li>
  <li><code class="language-plaintext highlighter-rouge">A</code> = 10</li>
  <li><code class="language-plaintext highlighter-rouge">B</code> = 11</li>
  <li><code class="language-plaintext highlighter-rouge">C</code> = 12</li>
  <li><code class="language-plaintext highlighter-rouge">D</code> = 13</li>
  <li><code class="language-plaintext highlighter-rouge">E</code> = 14</li>
  <li><code class="language-plaintext highlighter-rouge">F</code> = 15</li>
</ul>

<p>Each digit in a hexadecimal number represents a power of 16, similar to how digits in a decimal number represent powers of 10.</p>

<p>For example the hexadecimal number <code class="language-plaintext highlighter-rouge">2A3</code> is converted to decimal like this:</p>
<ul>
  <li>The rightmost digit <code class="language-plaintext highlighter-rouge">3</code> represents <code class="language-plaintext highlighter-rouge">3 x 16^{0} = 3 x 1 = 3</code></li>
  <li>The next digit A (which is <code class="language-plaintext highlighter-rouge">10</code> in decimal) represents <code class="language-plaintext highlighter-rouge">10 x 16^{1} = 10 x 16 = 160</code></li>
  <li>The leftmost digit <code class="language-plaintext highlighter-rouge">2</code> represents <code class="language-plaintext highlighter-rouge">2 x 16^{2} = 2 x 256 = 512</code></li>
</ul>

<p>Adding these together gives:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    512 + 160 + 3 = 675
</code></pre></div></div>

<p>So… the hexadecimal number <code class="language-plaintext highlighter-rouge">2A3</code> is <code class="language-plaintext highlighter-rouge">675</code> in decimal.</p>

<p>Typically hexadecimal numbers are preceded by <code class="language-plaintext highlighter-rouge">0x</code> or <code class="language-plaintext highlighter-rouge">0X</code>.</p>

<h3 id="other-bases">Other bases</h3>

<p>In order to declare other integers with a different base, you can use the following notation.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">let</span> <span class="s2">"number = BASE#NUMBER"</span>
</code></pre></div></div>

<p>Where:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">BASE</code> is between 2 and 64</li>
  <li><code class="language-plaintext highlighter-rouge">NUMBER</code> must use the symbols within the <code class="language-plaintext highlighter-rouge">BASE</code> range.</li>
</ul>

<p>Let’s see a few examples with the following script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: let_other_bases.sh</span>
 3 <span class="c"># Binary</span>
 4 <span class="nb">let</span> <span class="s2">"bin = 2#111100111001101"</span>
 5 <span class="nb">echo</span> <span class="s2">"binary number = </span><span class="nv">$bin</span><span class="s2">"</span>    <span class="c"># 31181</span>
 6 <span class="c"># Base 32</span>
 7 <span class="nb">let</span> <span class="s2">"b32 = 32#77"</span>
 8 <span class="nb">echo</span> <span class="s2">"base-32 number = </span><span class="nv">$b32</span><span class="s2">"</span>   <span class="c"># 231</span>
 9 <span class="c"># Base 64</span>
10 <span class="c"># This notation only works for a limited range (2 - 64) of ASCII characters.</span>
11 <span class="c"># 10 digits +</span>
12 <span class="c"># 26 lowercase characters +</span>
13 <span class="c"># 26 uppercase characters +</span>
14 <span class="c"># @ + _</span>
15 <span class="nb">let</span> <span class="s2">"b64 = 64#@_"</span>
16 <span class="nb">echo</span> <span class="s2">"base-64 number = </span><span class="nv">$b64</span><span class="s2">"</span>   <span class="c"># 4031</span>
</code></pre></div></div>

<p>In the previous script you see that on line 4 we declare a binary number. On line 7 we declare a number with base-32 and, finally, on line 15 we declare number with base-64.</p>

<p>When you run the previous script you will see the following in your terminal.</p>

<pre><code class="language-txt">$ ./let_other_bases.sh
binary number = 31181
base-32 number = 231
base-64 number = 4031
</code></pre>

<h2 id="working-with-bash-arithmetic-expansion-and-compound-command">Working with Bash Arithmetic Expansion and Compound Command</h2>

<p>There is a third way to operate with integer numbers that can look similar but are very different. This way is by using either:</p>
<ul>
  <li>Bash Arithmetic Expansion: <code class="language-plaintext highlighter-rouge">$((...))</code></li>
  <li>Double Parenthesis Compound Command: <code class="language-plaintext highlighter-rouge">((...))</code></li>
</ul>

<p>They look really similar but are different. So… What is the difference among them and the preferred way to use them?</p>

<h3 id="bash-arithmetic-expansion-">Bash Arithmetic Expansion <code class="language-plaintext highlighter-rouge">$((...))</code></h3>

<p>This way to deal with integer numbers allows us to evaluate an arithmetic expression (or a set of them, separated by commas). This way, will give an output which will be the result of the latest arithmetic operation given.</p>

<p>Let’s give it a try with the following script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: bash_arith_expansion_wrong.sh</span>
 3 <span class="k">$((</span><span class="nv">x</span><span class="o">=</span><span class="m">4</span>,y<span class="o">=</span><span class="m">5</span>,z<span class="o">=</span>x<span class="o">*</span>y,u<span class="o">=</span>z/2<span class="k">))</span> <span class="p">;</span> <span class="c"># 10: command not found</span>
 4 <span class="nb">echo</span> <span class="nv">$x</span> <span class="nv">$y</span> <span class="nv">$z</span> <span class="nv">$u</span>
</code></pre></div></div>

<p>What is happening in this script? On line 3 of the script (which is wrong on purpose) we are using the Bash Arithmetic Expansion. Inside this command there are several steps that happen in the following order:</p>
<ol>
  <li>A variable is declared with name <code class="language-plaintext highlighter-rouge">x</code> and with a value of <code class="language-plaintext highlighter-rouge">4</code></li>
  <li>A variable is declared with name <code class="language-plaintext highlighter-rouge">y</code> and with a value of <code class="language-plaintext highlighter-rouge">5</code></li>
  <li>A variable is declared with name <code class="language-plaintext highlighter-rouge">z</code> and with a value that is the multiplication of variables <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code>, resulting in a value of <code class="language-plaintext highlighter-rouge">10</code></li>
  <li>A variable is declared with name <code class="language-plaintext highlighter-rouge">u</code> and with a value that is the result of the division of variable <code class="language-plaintext highlighter-rouge">z</code> by <code class="language-plaintext highlighter-rouge">2</code>, resulting in <code class="language-plaintext highlighter-rouge">10</code></li>
  <li>Bash tries to interpret the resulting number (which is <code class="language-plaintext highlighter-rouge">10</code>) as a command, resulting in an error</li>
</ol>

<p>When you run the previous script you will get the following output in you terminal.</p>

<pre><code class="language-txt">$ ./bash_arith_expansion_wrong.sh
./bash_arith_expansion.sh: line 3: 10: command not found
4 5 20 10
</code></pre>

<p>What happens is that the result of <strong>the last arithmetic operation will replace the expression itself</strong>. And this can be used as another value. Let’s see it with an example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: bash_arith_expansion.sh</span>
 3 <span class="nv">result</span><span class="o">=</span><span class="k">$((</span><span class="nv">x</span><span class="o">=</span><span class="m">4</span>,y<span class="o">=</span><span class="m">5</span>,z<span class="o">=</span>x<span class="o">*</span>y,u<span class="o">=</span>z/2<span class="k">))</span> <span class="p">;</span> 
 4 <span class="nb">echo</span> <span class="nv">$x</span> <span class="nv">$y</span> <span class="nv">$z</span> <span class="nv">$u</span>
 5 <span class="nb">echo</span> <span class="s2">"Result: </span><span class="nv">$result</span><span class="s2">"</span> <span class="c"># 10</span>
</code></pre></div></div>

<p>When you execute the previous script you will see the following in your terminal.</p>

<pre><code class="language-txt">$ ./bash_arith_expansion.sh
4 5 20 10
Result: 10
</code></pre>

<p>Just a note… Before Bash Arithmetic Expansion appeared (<code class="language-plaintext highlighter-rouge">$((...))</code>), the syntax that was used was <code class="language-plaintext highlighter-rouge">$[...]</code> which is now <strong>deprecated</strong> but you might still find it in some old scripts.</p>

<h3 id="compound-command-">Compound Command <code class="language-plaintext highlighter-rouge">((...))</code></h3>

<p>In Bash, the <code class="language-plaintext highlighter-rouge">((...))</code> construct is used for arithmetic evaluation. It allows you to perform mathematical operations directly within a script, similar to how expressions are evaluated in programming languages like C or Java. The key advantage of <code class="language-plaintext highlighter-rouge">((...))</code> over other methods like <code class="language-plaintext highlighter-rouge">expr</code> or <code class="language-plaintext highlighter-rouge">$((...))</code> is that it can handle arithmetic operations more efficiently, without the need for external tools.</p>

<p>The key features of the compound command are:</p>
<ol>
  <li><strong>Arithmetic Operations</strong>: It supports common operations such as addition (<code class="language-plaintext highlighter-rouge">+</code>), subtraction (<code class="language-plaintext highlighter-rouge">-</code>), multiplication (<code class="language-plaintext highlighter-rouge">*</code>), division (<code class="language-plaintext highlighter-rouge">/</code>), modulus (<code class="language-plaintext highlighter-rouge">%</code>), and more.</li>
  <li><strong>No Need for $ for Variables</strong>: Inside <code class="language-plaintext highlighter-rouge">((...))</code>, you don’t need to prefix variables with <code class="language-plaintext highlighter-rouge">$</code> to reference them, unlike other parts of Bash scripts.</li>
  <li><strong>Return Value</strong>: The <code class="language-plaintext highlighter-rouge">((...))</code> construct returns a status of <code class="language-plaintext highlighter-rouge">0</code> (true) if the result of the expression is non-zero, and <code class="language-plaintext highlighter-rouge">1</code> (false) if the result is zero. This makes it useful in conditional statements.</li>
  <li><strong>Increment and Decrement Operators</strong>: You can use operators like <code class="language-plaintext highlighter-rouge">++</code> and <code class="language-plaintext highlighter-rouge">--</code> for incrementing and decrementing variables.</li>
</ol>

<p>The syntax used for this way of operating with integer numbers is as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">((</span> expression <span class="o">))</span>
</code></pre></div></div>

<p>What “<code class="language-plaintext highlighter-rouge">expression</code>” is you might be asking yourself. When you use this compound command you create an environment where you can operate with integer variables. In this environment you can do assignments of variables, you can do operations, you can do several operations in the same environment.</p>

<p>The way to do several operations is as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">((</span> expr1 , expr2 , ... <span class="o">))</span>
</code></pre></div></div>

<p>Where the different expressions (assignments, operations, etc) are evaluated in sequence.</p>

<p>This compound command is an actual command after all. This means that it has a result, an exit status, that we can use.<a id="footnote-5-ref" href="#footnote-5" style="font-size:x-small">[5]</a></p>

<p>Let’s see an example, shall we?</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 1 <span class="c">#!/usr/bin/env bash</span>
 2 <span class="c">#Script: compound_command.sh</span>
 3 <span class="c"># Post-increment</span>
 4 <span class="o">((</span>myVar <span class="o">=</span> 32<span class="o">))</span>
 5 <span class="o">((</span>myVar++<span class="o">))</span>
 6 <span class="nb">echo</span> <span class="s2">"myVar: </span><span class="nv">$myVar</span><span class="s2">"</span>
 7 <span class="c"># Shift bits</span>
 8 <span class="o">((</span>myVar2 <span class="o">=</span> 16, myVar3 <span class="o">=</span> 4<span class="o">))</span>
 9 <span class="o">((</span>myVar2 &lt;&lt;<span class="o">=</span> 1, myVar3 <span class="o">&gt;&gt;=</span>1 <span class="o">))</span>
10 <span class="nb">echo</span> <span class="s2">"myVar2: </span><span class="nv">$myVar2</span><span class="s2">, myVar3: </span><span class="nv">$myVar3</span><span class="s2">"</span>
</code></pre></div></div>

<p>In the previous script we declare a variable named <code class="language-plaintext highlighter-rouge">myVar</code> on line 4, then we use the post-increment operator on line 5.</p>

<p>On line 8 we declare two variables with names <code class="language-plaintext highlighter-rouge">myVar2</code> and <code class="language-plaintext highlighter-rouge">myVar3</code> with values <code class="language-plaintext highlighter-rouge">16</code> and <code class="language-plaintext highlighter-rouge">4</code> respectively. The on line 9 we use the shift-left bits operator on variable <code class="language-plaintext highlighter-rouge">myVar2</code> which will multiply by 2 the value of the variable, and we also apply the shift-right bit operator to the variable <code class="language-plaintext highlighter-rouge">myVar3</code> which will divide the value of the variable by 2.</p>

<p>If you run the previous script you will see the following in your console.</p>

<pre><code class="language-txt">$ ./compound_command.sh
myVar: 33
myVar2: 32, myVar3: 2
</code></pre>

<p>There are several advantages of using the Compound Command <code class="language-plaintext highlighter-rouge">((...))</code>:</p>
<ol>
  <li>More readable and concise than using other tools like <code class="language-plaintext highlighter-rouge">expr</code></li>
  <li>Efficient and well-integrated into Bash for handling numbers</li>
  <li>Supports bitwise operations and comparison operators</li>
</ol>

<h2 id="operators-order">Operators Order</h2>
<p>In Bash, just like in most programming languages, operators have an <strong>order of precedence</strong> (also known as operator precedence) that determines the sequence in which operations are evaluated in an expression. Understanding operator precedence is crucial when writing complex expressions to ensure that they are evaluated as intended.</p>

<p>Bash supports a variety of operators for arithmetic, logical operations, string manipulation, and comparisons. When multiple operators are present in an expression, the precedence rules dictate the order of execution.</p>

<p>The following table contains the order based on which Bash will evaluate the operators.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Order</th>
      <th style="text-align: left">Operators</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">id++</code>, <code class="language-plaintext highlighter-rouge">id--</code></td>
      <td style="text-align: left">variable post-increment and post-decrement</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">++id</code>, <code class="language-plaintext highlighter-rouge">--id</code></td>
      <td style="text-align: left">variable pre-increment and pre-decrement</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">-</code>, <code class="language-plaintext highlighter-rouge">+</code></td>
      <td style="text-align: left">unary minus and plus</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">!</code>, <code class="language-plaintext highlighter-rouge">~</code></td>
      <td style="text-align: left">logical and bitwise negation</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">**</code></td>
      <td style="text-align: left">exponentiation</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">*</code>, <code class="language-plaintext highlighter-rouge">/</code>, <code class="language-plaintext highlighter-rouge">%</code></td>
      <td style="text-align: left">multiplication, division, remainder</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">+</code>, <code class="language-plaintext highlighter-rouge">-</code></td>
      <td style="text-align: left">addition, subtraction</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&lt;&lt;</code>, <code class="language-plaintext highlighter-rouge">&gt;&gt;</code></td>
      <td style="text-align: left">left and right bitwise shifts</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&lt;=</code>, <code class="language-plaintext highlighter-rouge">&gt;=</code>, <code class="language-plaintext highlighter-rouge">&lt;</code>, <code class="language-plaintext highlighter-rouge">&gt;</code></td>
      <td style="text-align: left">comparison</td>
    </tr>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">==</code>, <code class="language-plaintext highlighter-rouge">!=</code></td>
      <td style="text-align: left">equality and inequality</td>
    </tr>
    <tr>
      <td style="text-align: center">11</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&amp;</code></td>
      <td style="text-align: left">bitwise AND</td>
    </tr>
    <tr>
      <td style="text-align: center">12</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">^</code></td>
      <td style="text-align: left">bitwise eXclusive OR</td>
    </tr>
    <tr>
      <td style="text-align: center">13</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">|</code></td>
      <td style="text-align: left">bitwise OR</td>
    </tr>
    <tr>
      <td style="text-align: center">14</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">&amp;&amp;</code></td>
      <td style="text-align: left">logical AND</td>
    </tr>
    <tr>
      <td style="text-align: center">15</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">||</code></td>
      <td style="text-align: left">logical OR</td>
    </tr>
    <tr>
      <td style="text-align: center">16</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">expr?expr:expr</code></td>
      <td style="text-align: left">conditional operator</td>
    </tr>
    <tr>
      <td style="text-align: center">17</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">=</code>, <code class="language-plaintext highlighter-rouge">*=</code>, <code class="language-plaintext highlighter-rouge">/=</code>, <code class="language-plaintext highlighter-rouge">%=</code>, <code class="language-plaintext highlighter-rouge">+=</code>, <code class="language-plaintext highlighter-rouge">-=</code>, <code class="language-plaintext highlighter-rouge">&lt;&lt;=</code>, <code class="language-plaintext highlighter-rouge">&gt;&gt;=</code>, <code class="language-plaintext highlighter-rouge">&amp;=</code>, <code class="language-plaintext highlighter-rouge">^=</code>, <code class="language-plaintext highlighter-rouge">|=</code></td>
      <td style="text-align: left">assignment</td>
    </tr>
  </tbody>
</table>

<p>In Bash, the order of precedence follows specific rules. Here’s a simplified breakdown:</p>
<ul>
  <li><strong>Parentheses</strong> (<code class="language-plaintext highlighter-rouge">()</code>): Highest precedence. They group expressions and force evaluation inside them first.</li>
  <li><strong>Arithmetic operators</strong>  (<code class="language-plaintext highlighter-rouge">*</code>, <code class="language-plaintext highlighter-rouge">/</code>, <code class="language-plaintext highlighter-rouge">%</code>, <code class="language-plaintext highlighter-rouge">+</code>, <code class="language-plaintext highlighter-rouge">-</code>): Multiplication, division, and modulus have higher precedence than addition and subtraction.</li>
  <li><strong>Logical NOT</strong> (<code class="language-plaintext highlighter-rouge">!</code>): Unary negation, with higher precedence than <code class="language-plaintext highlighter-rouge">&amp;&amp;</code> and <code class="language-plaintext highlighter-rouge">||</code>.</li>
  <li><strong>Logical AND</strong> (<code class="language-plaintext highlighter-rouge">&amp;&amp;</code>): Evaluated after comparisons, but before <code class="language-plaintext highlighter-rouge">||</code>.</li>
  <li><strong>Logical OR</strong> (<code class="language-plaintext highlighter-rouge">||</code>): Lowest precedence among the common operators.</li>
</ul>

<p>Understanding operator precedence in Bash helps you avoid logic errors in complex expressions and write more predictable, efficient scripts. While Bash generally follows common mathematical precedence rules, always remember that parentheses <code class="language-plaintext highlighter-rouge">()</code> can be used to ensure the desired order of evaluation.</p>

<h2 id="summary">Summary</h2>
<p>In this chapter we learnt several ways to deal with integer numbers.</p>

<p>We learnt:</p>
<ul>
  <li>How to use “<code class="language-plaintext highlighter-rouge">expr</code>” command to do arithmetic, comparisons and boolean operations</li>
  <li>How to use “<code class="language-plaintext highlighter-rouge">let</code>” and “declare” to initialize variables and the different operators that we can use with them</li>
  <li>How to declare integer numbers using alternative representations such as octal, hexadecimal and other bases</li>
  <li>How to use the Bash arithmetic expansion (“<code class="language-plaintext highlighter-rouge">$((...))</code>”) and the compound command (“<code class="language-plaintext highlighter-rouge">((...))</code>”)</li>
  <li>In what order the operators are evaluated</li>
</ul>

<p>If you managed to get here and understood and practiced the different commands presented in the chapter, you are on the right path.</p>

<p>Remember that <em>practice makes perfect</em>. So, practice, practice, practice,…</p>

<h2 id="references">References</h2>
<ol>
  <li><a href="https://linuxhint.com/expr-command-bash/">https://linuxhint.com/expr-command-bash/</a></li>
  <li><a href="https://www.geeksforgeeks.org/expr-command-in-linux-with-examples/">https://www.geeksforgeeks.org/expr-command-in-linux-with-examples/</a></li>
  <li><a href="https://unix.stackexchange.com/questions/286209/using-expr">https://unix.stackexchange.com/questions/286209/using-expr</a></li>
  <li><a href="https://www.javatpoint.com/linux-expr-command">https://www.javatpoint.com/linux-expr-command</a></li>
  <li><a href="https://tldp.org/LDP/abs/html/declareref.html">https://tldp.org/LDP/abs/html/declareref.html</a></li>
  <li><a href="https://phoenixnap.com/kb/bash-let">https://phoenixnap.com/kb/bash-let</a></li>
  <li><a href="https://linuxhint.com/bash_declare_command/">https://linuxhint.com/bash_declare_command/</a></li>
  <li><a href="https://www.computerhope.com/unix/bash/let.htm">https://www.computerhope.com/unix/bash/let.htm</a></li>
  <li><a href="https://tldp.org/LDP/abs/html/numerical-constants.html">https://tldp.org/LDP/abs/html/numerical-constants.html</a></li>
  <li><a href="https://www.gnu.org/software/bash/manual/html_node/Arithmetic-Expansion.html">https://www.gnu.org/software/bash/manual/html_node/Arithmetic-Expansion.html</a></li>
  <li><a href="https://tldp.org/LDP/abs/html/arithexp.html">https://tldp.org/LDP/abs/html/arithexp.html</a></li>
  <li><a href="https://www.shell-tips.com/bash/math-arithmetic-calculation/#gsc.tab=0">https://www.shell-tips.com/bash/math-arithmetic-calculation/#gsc.tab=0</a></li>
  <li><a href="https://stackoverflow.com/questions/39199299/what-is-the-essential-difference-between-compound-command-and-normal-command-in">https://stackoverflow.com/questions/39199299/what-is-the-essential-difference-between-compound-command-and-normal-command-in</a></li>
  <li><a href="https://tldp.org/LDP/abs/html/dblparens.html">https://tldp.org/LDP/abs/html/dblparens.html</a></li>
  <li><a href="https://stackoverflow.com/questions/31255699/double-parenthesis-with-and-without-dollar">https://stackoverflow.com/questions/31255699/double-parenthesis-with-and-without-dollar</a></li>
  <li><a href="http://mywiki.wooledge.org/ArithmeticExpression">http://mywiki.wooledge.org/ArithmeticExpression</a></li>
</ol>

<hr style="width:100%;text-align:center;margin-left:0;margin-bottom:10px;" />

<p id="footnote-1" style="font-size:10pt">
1. https://www.python.org <a href="#footnote-1-ref">&#8617;</a>
</p>
<p id="footnote-2" style="font-size:10pt">
2. https://www.perl.org <a href="#footnote-2-ref">&#8617;</a>
</p>
<p id="footnote-3" style="font-size:10pt">
3. Will fix the mathemetical formulas at some point.<a href="#footnote-3-ref">&#8617;</a>
</p>
<p id="footnote-4" style="font-size:10pt">
4. Will fix the mathemetical formulas at some point.<a href="#footnote-4-ref">&#8617;</a>
</p>
<p id="footnote-X" style="font-size:10pt">
5. This is something we will see in a later chapter.<a href="#footnote-X-ref">&#8617;</a>
</p>


</div>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The Engineering Corner</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The Engineering Corner</li><li><a class="u-email" href="mailto:the.engineering.corner.314@gmail.com">the.engineering.corner.314@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I hope you will have fun and learn new things reading this blog.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
